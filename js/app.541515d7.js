(function(a){function t(t){for(var s,r,n=t[0],l=t[1],c=t[2],u=0,m=[];u<n.length;u++)r=n[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(a[s]=l[s]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),e()}function e(){for(var a,t=0;t<i.length;t++){for(var e=i[t],s=!0,n=1;n<e.length;n++){var l=e[n];0!==o[l]&&(s=!1)}s&&(i.splice(t--,1),a=r(r.s=e[0]))}return a}var s={},o={app:0},i=[];function r(t){if(s[t])return s[t].exports;var e=s[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=a,r.c=s,r.d=function(a,t,e){r.o(a,t)||Object.defineProperty(a,t,{enumerable:!0,get:e})},r.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},r.t=function(a,t){if(1&t&&(a=r(a)),8&t)return a;if(4&t&&"object"===typeof a&&a&&a.__esModule)return a;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:a}),2&t&&"string"!=typeof a)for(var s in a)r.d(e,s,function(t){return a[t]}.bind(null,s));return e},r.n=function(a){var t=a&&a.__esModule?function(){return a["default"]}:function(){return a};return r.d(t,"a",t),t},r.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)},r.p="";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var d=l;i.push([0,"chunk-vendors"]),e()})({0:function(a,t,e){a.exports=e("56d7")},"034f":function(a,t,e){"use strict";var s=e("64a9"),o=e.n(s);o.a},4678:function(a,t,e){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(a){var t=i(a);return e(t)}function i(a){if(!e.o(s,a)){var t=new Error("Cannot find module '"+a+"'");throw t.code="MODULE_NOT_FOUND",t}return s[a]}o.keys=function(){return Object.keys(s)},o.resolve=i,a.exports=o,o.id="4678"},"515f":function(a,t,e){"use strict";var s=e("e6db"),o=e.n(s);o.a},"56d7":function(a,t,e){"use strict";e.r(t);var s=e("2b0e"),o=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-app",{staticStyle:{background:"#fff"}},[e("SnackbarSuccess"),e("SnackbarError"),e("SnackbarWarning"),e("SnackbarInfo"),e("SnackbarCharging"),e("router-view")],1)},i=[],r=(e("034f"),e("2877")),n=e("6544"),l=e.n(n),c=e("7496"),d={},u=Object(r["a"])(d,o,i,!1,null,null,null),m=u.exports;l()(u,{VApp:c["a"]});var p=e("8c4f"),h=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"principal"},[e("div",{staticClass:"HomePublic bg",staticStyle:{"flex-direction":"column","justify-content":"center","align-items":"center"}},[a.lock?e("v-card",{staticClass:"cardLogin elevation-0 fadeInUp ma-1 pr-7 pl-7",staticStyle:{width:"430px","border-radius":"6px",opacity:"1"},attrs:{color:"transparent"}},[e("div",{staticStyle:{display:"flex",width:"100%","justify-content":"center"}},[e("v-avatar",{staticClass:"elevation-3",staticStyle:{border:"5px solid #ffff"},attrs:{size:"100"}},[e("v-img",{staticClass:"mb-3 mt-3",attrs:{src:"images/icon.png",alt:"logo"}})],1)],1),a.loginEmpresa?e("v-flex",{staticClass:"pa-2",attrs:{xs12:""}},[e("h3",{staticClass:"fonteCorpo text-center mt-3 mb-5",style:"color: "+a.$primaria},[a._v(" Controle Corona Vírus ")]),e("v-flex",{attrs:{xs12:""}},[e("v-select",{attrs:{autofocus:"",autocomplete:"new-login",color:a.$primaria,"return-object":"","item-text":"nome",items:a.ubs,label:"Em qual ubs deseja entrar?"},model:{value:a.ubs_selecionada,callback:function(t){a.ubs_selecionada=t},expression:"ubs_selecionada"}})],1),""!==a.ubs_selecionada?e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{attrs:{autofocus:"",autocomplete:"new-login",color:a.$primaria,label:"Login"},model:{value:a.email,callback:function(t){a.email=t},expression:"email"}})],1):a._e(),""!==a.ubs_selecionada?e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{attrs:{color:a.$primaria,"append-icon":a.showPass?"visibility":"visibility_off",type:a.showPass?"text":"password",label:"Senha"},on:{"click:append":function(t){a.showPass=!a.showPass},keydown:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.login(t)}},model:{value:a.senha,callback:function(t){a.senha=t},expression:"senha"}})],1):a._e(),""!==a.ubs_selecionada?e("v-flex",{attrs:{xs12:""}},[e("div",{staticClass:"expande-horizontal centraliza"},[e("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:a.login}},[e("h4",[a._v("Entrar")]),e("v-icon",{staticClass:"ml-2"},[a._v("post_add")])],1)],1)]):a._e()],1):a._e()],1):e("v-card",{staticClass:"cardLogin elevation-0 fadeInUp ma-1 pr-7 pl-7",staticStyle:{width:"430px","border-radius":"6px",opacity:"1"},attrs:{color:"transparent"}},[e("div",{staticStyle:{display:"flex",width:"100%","justify-content":"center"}},[e("v-avatar",{staticClass:"elevation-3",staticStyle:{border:"5px solid #ffff"},attrs:{size:"100"}},[e("v-img",{staticClass:"mb-3 mt-3",attrs:{src:"images/icon.png",alt:"logo"}})],1)],1),a.loginEmpresa?e("v-flex",{staticClass:"pa-2",attrs:{xs12:""}},[e("h3",{staticClass:"fonteCorpo text-center mt-3 mb-5",style:"color: "+a.$primaria},[a._v(" Controle Corona Vírus ")]),e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:["###.###.###-##"],expression:"['###.###.###-##']"}],attrs:{autofocus:"",autocomplete:"new-login",color:a.$primaria,label:"CPF"},model:{value:a.cpf,callback:function(t){a.cpf=t},expression:"cpf"}})],1),e("v-flex",{attrs:{xs12:""}},[e("div",{staticClass:"expande-horizontal centraliza"},[e("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:a.consultar}},[e("h4",[a._v("Consultar")]),e("v-icon",{staticClass:"ml-2"},[a._v("description")])],1)],1)]),e("v-flex",{attrs:{xs12:""}},[e("div",{staticClass:"mt-3 expande-horizontal centraliza"},[e("v-btn",{staticClass:"white--text",attrs:{icon:"",color:"red"},on:{click:function(t){a.lock=!a.lock}}},[e("v-icon",[a._v("lock")])],1)],1)])],1):a._e()],1)],1),e("v-dialog",{attrs:{fullscreen:""},model:{value:a.dialog_ficha,callback:function(t){a.dialog_ficha=t},expression:"dialog_ficha"}},[e("v-card",{staticClass:"expande-horizontal centraliza coluna"},[e("v-app-bar",{staticClass:"elevation-0",attrs:{color:"transparent",top:""}},[e("v-btn",{attrs:{rounded:"",text:""},on:{click:function(t){a.dialog_ficha=!a.dialog_ficha}}},[e("v-icon",{staticClass:"mr-2"},[a._v("arrow_back")]),a._v("\n          fechar\n        ")],1)],1),e("div",{staticClass:"expande-horizontal centraliza coluna",staticStyle:{height:"100vh"}},[e("img",{staticClass:"mb-3",attrs:{width:"72",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7d/Bras%C3%A3o_de_Macap%C3%A1.svg/1200px-Bras%C3%A3o_de_Macap%C3%A1.svg.png",alt:"logo"}}),e("h3",{staticClass:"mt-3 mb-3"},[a._v("Teste Rápido SARS-COV2")]),e("table",{staticStyle:{width:"70%"},attrs:{border:"1"}},[e("tr",[e("th",{staticStyle:{"text-align":"left",width:"80px","padding-left":"10px","padding-right":"10px"}},[a._v("PACIENTE")]),e("td",{staticStyle:{"padding-left":"10px","padding-right":"10px"}},[a._v(a._s(a.ficha.nome))])]),e("tr",[e("th",{staticStyle:{"text-align":"left",width:"40px","padding-left":"10px","padding-right":"10px"}},[a._v("NASCIMENTO")]),e("td",{staticStyle:{"padding-left":"10px","padding-right":"10px"}},[a._v(a._s(a.ficha.nascimento))])]),e("tr",[e("th",{staticStyle:{"text-align":"left",width:"40px","padding-left":"10px","padding-right":"10px"}},[a._v("ENDEREÇO")]),e("td",{staticStyle:{"padding-left":"10px","padding-right":"10px"}},[a._v(a._s(a.ficha.endereco)+" "+a._s(a.ficha.numero)+" "+a._s(a.ficha.bairro))])]),e("tr",[e("th",{staticStyle:{"text-align":"left",width:"40px","padding-left":"10px","padding-right":"10px"}},[a._v("CONTATO")]),e("td",{staticStyle:{"padding-left":"10px","padding-right":"10px"}},[a._v(a._s(a.ficha.contatos))])]),e("tr",[e("th",{staticStyle:{"text-align":"left",width:"40px","padding-left":"10px","padding-right":"10px"}},[a._v("CPF")]),e("td",{staticStyle:{"padding-left":"10px","padding-right":"10px"}},[a._v(a._s(a.ficha.cpf))])]),e("tr",[e("th",{staticStyle:{"text-align":"left",width:"40px","padding-left":"10px","padding-right":"10px"}},[a._v("RESULTADO DO TESTE")]),e("td",{staticStyle:{"padding-left":"10px","padding-right":"10px"}},[a._v(a._s(a.ficha.resultado_do_teste))])])]),e("img",{staticClass:"mt-6",attrs:{src:"https://firebasestorage.googleapis.com/v0/b/deliverysapp.appspot.com/o/assinatura_favicon.png?alt=media&token=793c3ba7-669e-408a-9690-15d0c04908b7",width:"60",alt:""}}),e("h3",{staticClass:"text-center"},[a._v("Felipe Santos Pereira")]),e("span",[a._v("CRBM 2908-PA")])])],1)],1)],1)},v=[],f=e("3a60"),_={directives:{mask:f["mask"]},data(){return{lock:!1,cnpj_on:!1,random_um:0,random_dois:0,captcha:!0,loginCliente:!1,loginEmpresa:!0,resultado:"",email:"",senha:"",cpf:"",ubs_selecionada:"",ubs:[],showPass:!1,entrando:!1,error:!1,errorMessage:"",alteraSenhaDialog:!1,enviaLinkRecuperacao:!1,carregandoLogin:!1,dialog_ficha:!1,ficha:{}}},methods:{getPage(){const a=parseInt(sessionStorage.page_atual),t=parseInt(sessionStorage.total_pages),e=parseInt(a)+1;a<t&&this.$axios.get("/ficha/pagina/"+e).then(a=>{sessionStorage.fichas=!0,sessionStorage.total_pages=a.data.totalPages,sessionStorage.total_docs=a.data.totalDocs,sessionStorage.page_atual=a.data.page,this.$storage.set("page_"+e,{dados:JSON.stringify(a.data.docs)}),sessionStorage.page_atual=e,this.getPage()})},getFichas(){this.$axios.get("/ficha/pagina/1").then(a=>{sessionStorage.fichas=!0,sessionStorage.total_pages=a.data.totalPages,sessionStorage.total_docs=a.data.totalDocs,this.$storage.set("page_1",{dados:JSON.stringify(a.data.docs)}),sessionStorage.page_atual=1,this.getPage()})},consultar(){this.$store.dispatch("up_charging");const a={cpf:this.cpf};this.$axios.post("/contulta_ficha",a).then(a=>{a.data.length>0?(this.dialog_ficha=!0,this.ficha=a.data[0],this.$store.dispatch("down_charging")):(this.$store.dispatch("snackbar_info","não há fichas para este cpf"),this.$store.dispatch("down_charging"))}).catch(a=>{this.$store.dispatch("snackbar_error",a.response.data.message),this.$store.dispatch("down_charging")})},resetLogin(){this.loginCliente=!1,this.loginEmpresa=!1},login(){this.$store.dispatch("up_charging");const a={email:this.email,senha:this.senha};this.$axios.post("/session",a).then(a=>this.posLogin(a.data)).catch(a=>{this.$store.dispatch("snackbar_error",a.response.data.message),this.$store.dispatch("down_charging")})},loginCli(){this.$store.dispatch("up_charging");const a={cpf:this.cpf};this.$axios.post("/session_cli",a).then(a=>this.posLogin(a.data)).catch(a=>{this.$store.dispatch("snackbar_error",a.response.data.message),this.$store.dispatch("down_charging")})},posLogin(a){1===parseInt(a.user.block)?(this.$store.dispatch("snackbar_info","Conta Bloqueada!"),this.$store.dispatch("down_charging")):(sessionStorage.perfil=JSON.stringify(a),sessionStorage.ubs_selecionada=JSON.stringify(this.ubs_selecionada),this.$store.dispatch("down_charging"),this.loginEmpresa?this.$router.push("/home/listar-ficha"):this.$router.push("/cliente/listar-contrato"),location.reload())},enviaLinkRecuperacaoDeSenha(){this.$store.dispatch("up_charging");const a={email:this.email};this.$axios.post("/esqueci_senha",a).then(a=>{this.$store.dispatch("down_charging"),this.$store.dispatch("snackbar_success",a.data.message),this.alteraSenhaDialog=!1}).catch(a=>{this.$store.dispatch("snackbar_error",a.response.data.message),this.$store.dispatch("down_charging")})},goToCadastro(){this.$router.push("/cadastro/sem")},isAvailableSuccess(a){this.$store.dispatch("snackbar_success",a)},isAvailableError(a){this.$store.dispatch("snackbar_info",a.message)}},async created(){const a=await this.$list("ubs");this.ubs=a,sessionStorage.ubs_disponiveis=JSON.stringify(a)}},b=_,g=(e("d6db"),e("40dc")),x=e("8212"),C=e("8336"),k=e("b0af"),$=e("169a"),w=e("0e8f"),y=e("132d"),S=e("adda"),I=e("b974"),V=e("8654"),q=Object(r["a"])(b,h,v,!1,null,null,null),A=q.exports;l()(q,{VAppBar:g["a"],VAvatar:x["a"],VBtn:C["a"],VCard:k["a"],VDialog:$["a"],VFlex:w["a"],VIcon:y["a"],VImg:S["a"],VSelect:I["a"],VTextField:V["a"]});var O=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("v-navigation-drawer",{staticClass:"elevation-1",staticStyle:{background:"#fff"},attrs:{app:"",clipped:"",width:"270"},model:{value:a.drawer,callback:function(t){a.drawer=t},expression:"drawer"}},[e("v-card",{staticClass:"elevation-0",staticStyle:{"border-radius":"0px","margin-bottom":"0px"},attrs:{color:"white"}},[e("div",{staticClass:"semQuebra expande-horizontal"},[e("v-list",{staticClass:"pa-0 ma-0",staticStyle:{width:"100%"},attrs:{light:""}},[e("v-list-item",{on:{click:function(){}}},[e("v-avatar",{staticClass:"elevation-1 mr-2 mt-2 mb-2",attrs:{color:"white"}},[e("v-img",{attrs:{src:"images/icon.png"}})],1),e("v-list-item-content",[e("v-list-item-title",{staticClass:"black--text text-capitalize"},[a._v("\n                "+a._s(a.$store.getters.user.nome)+"\n              ")]),e("v-list-item-subtitle",{staticClass:"grey--text",staticStyle:{"font-size":"10pt"}},[a._v("\n                "+a._s(a.ubs_selecionada.nome)+"\n              ")])],1)],1)],1)],1)]),e("div",{staticClass:"mr-1 ml-1",staticStyle:{"border-bottom":"1px solid #e2e2e2"}}),e("v-list",{staticClass:"pa-1 ma-0",staticStyle:{"border-radius":"0px"},attrs:{dark:"",nav:"",dense:"",color:"white"}},[e("v-subheader",{staticClass:"grey--text"},[a._v("Opções")]),e("v-list-item",{attrs:{"active-class":"menuAtivoHome",to:"/home/listar-painel"}},[e("v-avatar",[e("v-icon",{attrs:{color:"/home/listar-painel"===a.$route.path?"white":a.$primaria}},[a._v("\n            dashboard\n          ")])],1),e("v-list-item-content",[e("v-list-item-title",{staticClass:"fonteCorpo font-weight-bold",class:"/home/listar-painel"===a.$route.path?"white--text":"grey--text"},[a._v("\n            Relatórios\n          ")])],1),e("v-list-item-action",[e("v-btn",{attrs:{icon:""}},[e("v-icon",[a._v("arrow_right")])],1)],1)],1),a.$store.getters.user.admin?e("v-list-item",{attrs:{"active-class":"menuAtivoHome",to:"/home/listar-funcionario"}},[e("v-avatar",[e("v-icon",{attrs:{color:"/home/listar-funcionario"===a.$route.path?"white":a.$primaria}},[a._v("\n            group\n          ")])],1),e("v-list-item-content",[e("v-list-item-title",{staticClass:"fonteCorpo font-weight-bold",class:"/home/listar-funcionario"===a.$route.path?"white--text":"grey--text"},[a._v("\n            Funcionários\n          ")])],1),e("v-list-item-action",[e("v-btn",{attrs:{icon:""}},[e("v-icon",[a._v("arrow_right")])],1)],1)],1):a._e(),e("v-list-item",{attrs:{"active-class":"menuAtivoHome",to:"/home/listar-prontuario"}},[e("v-avatar",[e("v-icon",{attrs:{color:"/home/listar-prontuario"===a.$route.path?"white":a.$primaria}},[a._v("\n            ballot\n          ")])],1),e("v-list-item-content",[e("v-list-item-title",{staticClass:"fonteCorpo font-weight-bold",class:"/home/listar-prontuario"===a.$route.path?"white--text":"grey--text"},[a._v("\n            Prontuários\n          ")])],1),e("v-list-item-action",[e("v-btn",{attrs:{icon:""}},[e("v-icon",[a._v("arrow_right")])],1)],1)],1),a.$store.getters.user.admin?e("v-list-item",{attrs:{"active-class":"menuAtivoHome",to:"/home/listar-ubs"}},[e("v-avatar",[e("v-icon",{attrs:{color:"/home/listar-ubs"===a.$route.path?"white":a.$primaria}},[a._v("\n            work\n          ")])],1),e("v-list-item-content",[e("v-list-item-title",{staticClass:"fonteCorpo font-weight-bold",class:"/home/listar-ubs"===a.$route.path?"white--text":"grey--text"},[a._v("\n            Ubs\n          ")])],1),e("v-list-item-action",[e("v-btn",{attrs:{icon:""}},[e("v-icon",[a._v("arrow_right")])],1)],1)],1):a._e(),e("v-list-item",{attrs:{"active-class":"menuAtivoHome",to:"/home/listar-notificacao"}},[e("v-avatar",[e("v-icon",{attrs:{color:"/home/listar-notificacao"===a.$route.path?"white":a.$primaria}},[a._v("\n            receipt\n          ")])],1),e("v-list-item-content",[e("v-list-item-title",{staticClass:"fonteCorpo font-weight-bold",class:"/home/listar-notificacao"===a.$route.path?"white--text":"grey--text"},[a._v("\n            Notificações\n          ")])],1),e("v-list-item-action",[e("v-btn",{attrs:{icon:""}},[e("v-icon",[a._v("arrow_right")])],1)],1)],1),e("v-list-item",{attrs:{"active-class":"menuAtivoHome",to:"/home/listar-ficha"}},[e("v-avatar",[e("v-icon",{attrs:{color:"/home/listar-ficha"===a.$route.path?"white":a.$primaria}},[a._v("\n            post_add\n          ")])],1),e("v-list-item-content",[e("v-list-item-title",{staticClass:"fonteCorpo font-weight-bold",class:"/home/listar-ficha"===a.$route.path?"white--text":"grey--text"},[a._v("\n            Fichas\n          ")])],1)],1),e("v-divider"),e("v-list-item",{attrs:{"active-class":"menuAtivoHome"},on:{click:a.sair}},[e("v-avatar",[e("v-icon",{attrs:{color:"red darken-3"}},[a._v("swap_horizontal_circle")])],1),e("v-list-item-content",[e("v-list-item-title",{staticClass:"fonteCorpo grey--text"},[a._v(" Sair ")])],1)],1)],1)],1),e("v-content",[e("transition",{attrs:{name:"router-anim"}},[e("router-view")],1)],1)],1)},D=[],E={props:{source:String},data(){return{ubs_selecionada:""}},computed:{drawer(){return this.$store.getters.drawer}},methods:{sair(){sessionStorage.clear(),this.$router.push("/")},verificaUsuarioLogado(){void 0===sessionStorage.perfil&&this.$router.push("/")}},async created(){this.verificaUsuarioLogado(),this.ubs_selecionada=JSON.parse(sessionStorage.ubs_selecionada);const a=this;cordova.plugins.firebase.messaging.requestPermission().then((function(){cordova.plugins.firebase.messaging.getInstanceId().then((function(t){cordova.plugins.firebase.messaging.getToken().then((async function(t,e){await a.$axios.post("/push_notification",{token:t,plataforma:navigator.userAgent,usuario_id:a.$store.getters.user.id,instance_id:e})}))}))})),navigator.geolocation.getCurrentPosition()}},z=E,j=(e("cccb"),e("a75b")),N=e("ce7e"),T=e("8860"),F=e("da13"),L=e("1800"),P=e("5d23"),M=e("f774"),R=e("e0c7"),B=Object(r["a"])(z,O,D,!1,null,null,null),U=B.exports;l()(B,{VAvatar:x["a"],VBtn:C["a"],VCard:k["a"],VContent:j["a"],VDivider:N["a"],VIcon:y["a"],VImg:S["a"],VList:T["a"],VListItem:F["a"],VListItemAction:L["a"],VListItemContent:P["a"],VListItemSubtitle:P["b"],VListItemTitle:P["c"],VNavigationDrawer:M["a"],VSubheader:R["a"]});var Y=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("v-navigation-drawer",{staticClass:"elevation-1",staticStyle:{background:"#fff"},attrs:{app:"",clipped:"",width:"270"},model:{value:a.drawer,callback:function(t){a.drawer=t},expression:"drawer"}},[e("v-card",{staticClass:"elevation-0",staticStyle:{"border-radius":"0px","margin-bottom":"0px"},attrs:{color:"white"}},[e("div",{staticClass:"semQuebra expande-horizontal"},[e("v-list",{staticClass:"pa-0 ma-0",staticStyle:{width:"100%"},attrs:{light:""}},[e("v-list-item",{on:{click:function(){}}},[e("v-avatar",{staticClass:"elevation-1 mr-2 mt-2 mb-2",attrs:{color:"white"}},[e("v-img",{attrs:{src:"images/icon.png"}})],1),e("v-list-item-content",[e("v-list-item-title",{staticClass:"black--text text-capitalize"},[a._v("\n                "+a._s(a.$store.getters.user.nome)+"\n              ")]),e("v-list-item-subtitle",{staticClass:"grey--text",staticStyle:{"font-size":"10pt"}},[a._v("\n                "+a._s(a.$moment().locale("pt-br").format("DD/MM/YYYY"))+"\n              ")])],1)],1)],1)],1)]),e("div",{staticClass:"mr-1 ml-1",staticStyle:{"border-bottom":"1px solid #e2e2e2"}}),e("v-list",{staticClass:"pa-1 ma-0",staticStyle:{"border-radius":"0px"},attrs:{dark:"",nav:"",dense:"",color:"white"}},[e("v-subheader",{staticClass:"grey--text"},[a._v("Opções")]),e("v-list-item",{attrs:{"active-class":"menuAtivoHome",to:"/cliente/listar-contrato"}},[e("v-avatar",[e("v-icon",{attrs:{color:"/cliente/listar-contrato"===a.$route.path?"white":a.$primaria}},[a._v("\n            description\n          ")])],1),e("v-list-item-content",[e("v-list-item-title",{staticClass:"fonteCorpo font-weight-bold",class:"/cliente/listar-contrato"===a.$route.path?"white--text":"grey--text"},[a._v("\n            Contratos\n          ")])],1),e("v-list-item-action",[e("v-btn",{attrs:{icon:""}},[e("v-icon",[a._v("arrow_right")])],1)],1)],1),e("v-list-item",{attrs:{"active-class":"menuAtivoHome",to:"/cliente/listar-ordem"}},[e("v-avatar",[e("v-icon",{attrs:{color:"/cliente/listar-ordem"===a.$route.path?"white":a.$primaria}},[a._v("\n            work\n          ")])],1),e("v-list-item-content",[e("v-list-item-title",{staticClass:"fonteCorpo font-weight-bold",class:"/cliente/listar-ordem"===a.$route.path?"white--text":"grey--text"},[a._v("\n            Ordens de Serviço\n          ")])],1),e("v-list-item-action",[e("v-btn",{attrs:{icon:""}},[e("v-icon",[a._v("arrow_right")])],1)],1)],1),e("v-divider"),e("v-list-item",{attrs:{"active-class":"menuAtivoHome"},on:{click:a.sair}},[e("v-avatar",[e("v-icon",{attrs:{color:"red darken-3"}},[a._v("swap_horizontal_circle")])],1),e("v-list-item-content",[e("v-list-item-title",{staticClass:"fonteCorpo grey--text"},[a._v(" Sair ")])],1)],1)],1)],1),e("v-content",[e("transition",{attrs:{name:"router-anim"}},[e("router-view")],1)],1)],1)},H=[],J={props:{source:String},data(){return{permissao:{}}},computed:{drawer(){return this.$store.getters.drawer}},methods:{sair(){sessionStorage.clear(),this.$router.push("/")},verificaUsuarioLogado(){void 0===sessionStorage.perfil&&this.$router.push("/")}},created(){this.verificaUsuarioLogado()}},G=J,X=(e("bf74"),Object(r["a"])(G,Y,H,!1,null,null,null)),Z=X.exports;l()(X,{VAvatar:x["a"],VBtn:C["a"],VCard:k["a"],VContent:j["a"],VDivider:N["a"],VIcon:y["a"],VImg:S["a"],VList:T["a"],VListItem:F["a"],VListItemAction:L["a"],VListItemContent:P["a"],VListItemSubtitle:P["b"],VListItemTitle:P["c"],VNavigationDrawer:M["a"],VSubheader:R["a"]});var Q=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("Molde",{attrs:{title:"Cadastro de Funcionário",icon:"description",options:a.options}},[e("div",{staticClass:"expande-horizontal"},[e("v-flex",{staticClass:"pa-3 ",attrs:{xs12:""}},[e("v-form",{ref:"form"},[e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{rules:[function(a){return!!a||"Preencha este campo"}],color:a.$primaria,outlined:"",required:"",label:"Nome"},model:{value:a.dados.nome,callback:function(t){a.$set(a.dados,"nome",t)},expression:"dados.nome"}}),e("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:["###.###.###-##"],expression:"['###.###.###-##']"}],staticClass:"mr-2 ml-2",attrs:{rules:[function(a){return!!a||"Preencha este campo"}],color:a.$primaria,outlined:"",required:"",label:"Cpf"},model:{value:a.dados.cpf,callback:function(t){a.$set(a.dados,"cpf",t)},expression:"dados.cpf"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{rules:[function(a){return!!a||"Preencha este campo"}],color:a.$primaria,outlined:"",required:"",label:"email"},model:{value:a.dados.email,callback:function(t){a.$set(a.dados,"email",t)},expression:"dados.email"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{rules:[function(a){return!!a||"Preencha este campo"}],color:a.$primaria,outlined:"",required:"",label:"senha"},model:{value:a.dados.senha,callback:function(t){a.$set(a.dados,"senha",t)},expression:"dados.senha"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{rules:[function(a){return!!a||"Preencha este campo"}],color:a.$primaria,outlined:"",required:"",label:"Endereço"},model:{value:a.dados.endereco,callback:function(t){a.$set(a.dados,"endereco",t)},expression:"dados.endereco"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{rules:[function(a){return!!a||"Preencha este campo"}],color:a.$primaria,outlined:"",required:"",label:"Número da casa"},model:{value:a.dados.numero_casa,callback:function(t){a.$set(a.dados,"numero_casa",t)},expression:"dados.numero_casa"}})],1),e("v-btn",{staticClass:"text-capitalize white--text ml-2",attrs:{color:"green"},on:{click:a.save}},[a._v(" Concluir "),e("v-icon",[a._v("check")])],1)],1)],1)],1)])],1)},K=[],W={directives:{mask:f["mask"]},data(){return{options:[{icon:"save",nome:"Concluir cadastro",action:()=>this.save()}],dados:{}}},methods:{async save(){this.$refs.form.validate()&&(await this.$create("funcionario",this.dados),this.$router.go(-1))}}},aa=W,ta=e("4bd4"),ea=Object(r["a"])(aa,Q,K,!1,null,null,null),sa=ea.exports;l()(ea,{VBtn:C["a"],VFlex:w["a"],VForm:ta["a"],VIcon:y["a"],VTextField:V["a"]});var oa=function(){var a=this,t=this,e=t.$createElement,s=t._self._c||e;return s("Molde",{attrs:{title:"Funcionários",options:t.options}},[s("div",{staticStyle:{"min-height":"90vh"}},[s("v-flex",{staticClass:"pa-2",attrs:{xs12:""}},[s("v-text-field",{attrs:{hint:t.usuarios.length+" encontrados.",outlined:"",label:"Pesquise um funcionário",color:t.$primaria,"append-icon":"search"},model:{value:t.pesquisa,callback:function(a){t.pesquisa=a},expression:"pesquisa"}})],1),t.usuarios.length>0&&!t.$vuetify.breakpoint.smAndDown?s("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",[s("v-icon",{attrs:{color:t.$primaria}},[t._v("account_circle")])],1),s("th",[t._v("NOME")]),s("th",[t._v("EMAIL")]),s("th",[t._v("VISUALIZAR")]),s("th",[t._v("EXCLUIR")])])]),s("tbody",t._l(t.usuarios,(function(a){return s("tr",{key:a._id,staticClass:"animated fadeInUp"},[s("td",{staticStyle:{width:"20px"}},[s("v-icon",{attrs:{color:t.$primaria}},[t._v("account_circle")])],1),s("td",{staticClass:"font-weight-bold fonteCorpo"},[t._v(t._s(a.nome))]),s("td",{staticClass:"font-weight-bold fonteCorpo"},[t._v(t._s(a.email))]),s("td",[s("v-btn",{staticClass:"text-lowercase",attrs:{outlined:"",color:t.$primaria},on:{click:function(e){return t.$router.push("/home/visualizar-funcionario/"+a._id)}}},[t._v(" visualizar")])],1),s("td",[s("v-btn",{staticClass:"text-lowercase",attrs:{outlined:"",color:"red"},on:{click:function(e){return t.remover(a._id)}}},[t._v(" excluir")])],1)])})),0)]},proxy:!0}],null,!1,3882628687)}):t._e(),0===t.usuarios.length?s("Empty"):t._e(),s("v-divider"),t.usuarios.length>0&&t.$vuetify.breakpoint.smAndDown?s("v-list",{staticClass:"pa-0 ma-0"},[t._l(t.usuarios,(function(a,e){return[s("v-list-item",{key:a._id,staticClass:"animated fadeInUp",on:{click:function(e){return t.$router.push("/home/visualizar-funcionario/"+a._id)}}},[s("v-list-item-content",[s("v-list-item-title",{staticClass:"fonteCorpo",staticStyle:{color:"#444"}},[s("v-icon",{attrs:{color:t.$primaria,size:"12"}},[t._v("person")]),t._v(" "+t._s(a.nome)+" ")],1),s("v-list-item-subtitle",{staticClass:"fonteCorpo grey--text"},[t._v(" login: "+t._s(a.email)+" ")])],1),s("v-list-item-action",[s("v-icon",{attrs:{color:t.$primaria}},[t._v("keyboard_arrow_right")])],1)],1),s("v-divider",{key:e})]}))],2):t._e()],1),s("Confirm",{attrs:{open:t.confirm_dialog,action:function(){return a.remover(a.id_to_excluse,!0)},close:function(){return a.confirm_dialog=!1}}})],1)},ia=[],ra={data(){return{accessToken:"pk.eyJ1IjoicHRrbG9ycmFuIiwiYSI6ImNrM2JzbXRqZTBnZjkzbnFlM3VyYTVzazkifQ.kgDrdfqGfd6XTV5DXfeSwg",mapStyle:"mapbox://styles/mapbox/dark-v10",pesquisa:"",options:[{icon:"person_add",nome:"Cadastrar Funcionário",action:()=>this.$router.push("/home/criar-funcionario")}],usuarios:[],usuariosbkp:[],coordinates:[-111.549668,39.014],confirm_dialog:!1,id_to_excluse:""}},watch:{pesquisa(a){this.pesquisar(a)}},filters:{filterBlock(a){return 1===parseInt(a)?"bloqueado":"ativo"},filterSaldo(a){return parseFloat(a).toFixed(2)}},methods:{async remover(a,t){t?(await this.$del("funcionario/"+a),this.get()):(this.confirm_dialog=!0,this.id_to_excluse=a)},pesquisar(a){const t=a;if(""===a)this.usuarios=this.usuariosbkp;else{const a=this.usuariosbkp;let e=[],s=t.toUpperCase();a.map(a=>{let t=a.nome.toUpperCase();t.match(s)&&e.push(a)}),this.usuarios=e}},get(){this.$store.dispatch("up_charging"),this.$axios.get("/funcionario").then(a=>{this.usuarios=a.data,this.usuariosbkp=a.data,this.$store.dispatch("down_charging")}).catch(a=>{this.$store.dispatch("down_charging"),this.$store.dispatch("snackbar_info",a.response.data.message)})}},created(){this.get()}},na=ra,la=e("1f4f"),ca=Object(r["a"])(na,oa,ia,!1,null,null,null),da=ca.exports;l()(ca,{VBtn:C["a"],VDivider:N["a"],VFlex:w["a"],VIcon:y["a"],VList:T["a"],VListItem:F["a"],VListItemAction:L["a"],VListItemContent:P["a"],VListItemSubtitle:P["b"],VListItemTitle:P["c"],VSimpleTable:la["a"],VTextField:V["a"]});var ua=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("Molde",{attrs:{title:"Visualizar Funcionário",icon:"description",options:a.options}},[e("div",{staticClass:"expande-horizontal"},[e("v-flex",{staticClass:"pa-3 ",attrs:{xs12:""}},[e("v-form",{ref:"form"},[e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{rules:[function(a){return!!a||"Preencha este campo"}],color:a.$primaria,outlined:"",required:"",label:"Nome"},model:{value:a.dados.nome,callback:function(t){a.$set(a.dados,"nome",t)},expression:"dados.nome"}}),e("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:["###.###.###-##"],expression:"['###.###.###-##']"}],staticClass:"mr-2 ml-2",attrs:{rules:[function(a){return!!a||"Preencha este campo"}],color:a.$primaria,outlined:"",required:"",label:"Cpf"},model:{value:a.dados.cpf,callback:function(t){a.$set(a.dados,"cpf",t)},expression:"dados.cpf"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{rules:[function(a){return!!a||"Preencha este campo"}],color:a.$primaria,outlined:"",required:"",label:"email"},model:{value:a.dados.email,callback:function(t){a.$set(a.dados,"email",t)},expression:"dados.email"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{color:a.$primaria,outlined:"",required:"",label:"senha"},model:{value:a.dados.senha,callback:function(t){a.$set(a.dados,"senha",t)},expression:"dados.senha"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{rules:[function(a){return!!a||"Preencha este campo"}],color:a.$primaria,outlined:"",required:"",label:"Endereço"},model:{value:a.dados.endereco,callback:function(t){a.$set(a.dados,"endereco",t)},expression:"dados.endereco"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{rules:[function(a){return!!a||"Preencha este campo"}],color:a.$primaria,outlined:"",required:"",label:"Número da casa"},model:{value:a.dados.numero_casa,callback:function(t){a.$set(a.dados,"numero_casa",t)},expression:"dados.numero_casa"}})],1),e("v-flex",{staticClass:"pa-2",attrs:{xs12:""}},[a._e()],1),e("v-btn",{staticClass:"text-capitalize white--text ml-2",attrs:{color:"green"},on:{click:a.save}},[a._v(" Concluir "),e("v-icon",[a._v("check")])],1)],1)],1)],1)])],1)},ma=[],pa={props:["id"],directives:{mask:f["mask"]},data(){return{options:[{icon:"save",nome:"Salvar Alterações",action:()=>this.save()}],dados:{},permissao:[]}},methods:{async save(){this.$refs.form.validate()&&(await this.$update("funcionario/"+this.id,this.dados),this.$router.go(-1))}},async created(){this.dados=await this.$show("funcionario/"+this.id)}},ha=pa,va=Object(r["a"])(ha,ua,ma,!1,null,null,null),fa=va.exports;l()(va,{VBtn:C["a"],VFlex:w["a"],VForm:ta["a"],VIcon:y["a"],VSelect:I["a"],VTextField:V["a"]});const _a=[{path:"/home/criar-funcionario",component:sa},{path:"/home/listar-funcionario",component:da},{path:"/home/visualizar-funcionario/:id",component:fa,props:!0}];var ba=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("Molde",{attrs:{title:"Nova Ficha",icon:"description",options:a.options}},[e("div",{staticClass:"expande-horizontal"},[e("v-flex",{staticClass:"pa-3 ",attrs:{xs12:""}},[e("v-form",{ref:"form"},[e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",label:"UF NOTIFICAÇÂO",dense:"",color:a.$primaria,required:""},model:{value:a.dados.estado_de_notificacao,callback:function(t){a.$set(a.dados,"estado_de_notificacao",t)},expression:"dados.estado_de_notificacao"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",label:"MUNICÍPIO NOTIFICAÇÃO",dense:"",color:a.$primaria,required:""},model:{value:a.dados.municipio_de_notificacao,callback:function(t){a.$set(a.dados,"municipio_de_notificacao",t)},expression:"dados.municipio_de_notificacao"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",label:"RESPONSÁVEL",dense:"",color:a.$primaria,required:""},model:{value:a.dados.responsavel.nome,callback:function(t){a.$set(a.dados.responsavel,"nome",t)},expression:"dados.responsavel.nome"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",readonly:"",label:"LOCAL",dense:"",color:a.$primaria,required:""},model:{value:a.dados.ubs.nome,callback:function(t){a.$set(a.dados.ubs,"nome",t)},expression:"dados.ubs.nome"}})],1),e("div",{staticClass:"expande-horizontal coluna",staticStyle:{border:"1px solid #e2e2e2"}},[e("h3",{staticClass:"pa-2"},[a._v("IDENTIFICAÇÃO")]),e("div",{staticClass:"expande-horizontal semquebra centraliza"},[e("v-checkbox",{staticClass:"pa-2",attrs:{outlined:"",dense:"",color:a.$primaria,label:"Tem cpf?"},model:{value:a.dados.tem_cpf,callback:function(t){a.$set(a.dados,"tem_cpf",t)},expression:"dados.tem_cpf"}}),e("v-checkbox",{staticClass:"pa-2",attrs:{outlined:"",dense:"",color:a.$primaria,label:"É Profissional da Saúde?"},model:{value:a.dados.profissional_de_saude,callback:function(t){a.$set(a.dados,"profissional_de_saude",t)},expression:"dados.profissional_de_saude"}}),e("v-checkbox",{staticClass:"pa-2",attrs:{outlined:"",dense:"",color:a.$primaria,label:"É estrangeiro?"},model:{value:a.dados.estrangeiro,callback:function(t){a.$set(a.dados,"estrangeiro",t)},expression:"dados.estrangeiro"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{outlined:"",type:"Number",label:"CBO",dense:"",color:a.$primaria,required:""},model:{value:a.dados.cbo,callback:function(t){a.$set(a.dados,"cbo",t)},expression:"dados.cbo"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{outlined:"",type:"Number",label:"CNS",dense:"",color:a.$primaria,required:""},model:{value:a.dados.cns,callback:function(t){a.$set(a.dados,"cns",t)},expression:"dados.cns"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",outlined:"",dense:"",color:a.$primaria,required:"",label:"Nome completo"},model:{value:a.dados.nome,callback:function(t){a.$set(a.dados,"nome",t)},expression:"dados.nome"}}),a.dados.tem_cpf?e("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:["###.###.###-##"],expression:"['###.###.###-##']"}],staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",hint:"123.456.789-10",outlined:"",dense:"",color:a.$primaria,required:"",label:"CPF"},model:{value:a.dados.cpf,callback:function(t){a.$set(a.dados,"cpf",t)},expression:"dados.cpf"}}):a._e()],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",outlined:"",dense:"",color:a.$primaria,required:"",label:"Nome completo da mãe"},model:{value:a.dados.nome_da_mae,callback:function(t){a.$set(a.dados,"nome_da_mae",t)},expression:"dados.nome_da_mae"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-flex",{attrs:{xs12:"",md6:""}},[e("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:["##/##/####"],expression:"['##/##/####']"}],staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",hint:"DIA/MES/ANO",outlined:"",dense:"",color:a.$primaria,required:"",label:"Data de nascimento"},model:{value:a.dados.nascimento,callback:function(t){a.$set(a.dados,"nascimento",t)},expression:"dados.nascimento"}})],1),e("v-flex",{attrs:{xs12:"",md6:""}},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",outlined:"",dense:"",color:a.$primaria,required:"",label:"País de origem"},model:{value:a.dados.pais_de_origem,callback:function(t){a.$set(a.dados,"pais_de_origem",t)},expression:"dados.pais_de_origem"}})],1)],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-flex",{attrs:{xs12:"",md6:""}},[e("v-select",{staticClass:"mr-2 ml-2",attrs:{outlined:"",dense:"",color:a.$primaria,items:a.sexo,required:"",label:"Sexo"},model:{value:a.dados.sexo,callback:function(t){a.$set(a.dados,"sexo",t)},expression:"dados.sexo"}})],1),e("v-flex",{attrs:{xs12:"",md6:""}},[e("v-select",{staticClass:"mr-2 ml-2",attrs:{outlined:"",dense:"",color:a.$primaria,items:a.raca,required:"",label:"Raça"},model:{value:a.dados.raca,callback:function(t){a.$set(a.dados,"raca",t)},expression:"dados.raca"}})],1),e("v-flex",{attrs:{xs12:"",md6:""}},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{outlined:"",dense:"",color:a.$primaria,items:a.raca,required:"",label:"Passaporte"},model:{value:a.dados.passaporte,callback:function(t){a.$set(a.dados,"passaporte",t)},expression:"dados.passaporte"}})],1)],1)]),e("div",{staticClass:"expande-horizontal coluna",staticStyle:{border:"1px solid #e2e2e2"}},[e("h3",{staticClass:"pa-2"},[a._v("DADOS CLÍNICOS EPIDEMIOLÓGICOS")]),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:["##.###-###"],expression:"['##.###-###']"}],staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",label:"CEP",outlined:"",dense:"",color:a.$primaria,required:""},model:{value:a.dados.cep,callback:function(t){a.$set(a.dados,"cep",t)},expression:"dados.cep"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{outlined:"",autocomplete:"new-field",label:"UF DE RESIDÊNCIA",dense:"",color:a.$primaria,required:""},model:{value:a.dados.estado_de_residencia,callback:function(t){a.$set(a.dados,"estado_de_residencia",t)},expression:"dados.estado_de_residencia"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{outlined:"",autocomplete:"new-field",label:"MUNICÍPIO DE RESIDÊNCIA",dense:"",color:a.$primaria,required:""},model:{value:a.dados.municipio_de_residencia,callback:function(t){a.$set(a.dados,"municipio_de_residencia",t)},expression:"dados.municipio_de_residencia"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",label:"Endereço",outlined:"",dense:"",color:a.$primaria,required:""},model:{value:a.dados.endereco,callback:function(t){a.$set(a.dados,"endereco",t)},expression:"dados.endereco"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",label:"Número da casa",outlined:"",dense:"",color:a.$primaria,required:""},model:{value:a.dados.numero_casa,callback:function(t){a.$set(a.dados,"numero_casa",t)},expression:"dados.numero_casa"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",label:"Bairro",outlined:"",dense:"",color:a.$primaria,required:""},model:{value:a.dados.bairro,callback:function(t){a.$set(a.dados,"bairro",t)},expression:"dados.bairro"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",label:"Contatos",placeholder:"ex: Telefone, email, etc...",outlined:"",dense:"",color:a.$primaria,required:""},model:{value:a.dados.contatos,callback:function(t){a.$set(a.dados,"contatos",t)},expression:"dados.contatos"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:["##/##/####"],expression:"['##/##/####']"}],staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",hint:"DIA/MES/ANO",label:"Data da notificação",outlined:"",dense:"",color:a.$primaria,required:""},model:{value:a.dados.data_da_notificacao,callback:function(t){a.$set(a.dados,"data_da_notificacao",t)},expression:"dados.data_da_notificacao"}}),e("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:["##/##/####"],expression:"['##/##/####']"}],staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",hint:"DIA/MES/ANO",label:"Início dos sintomas",outlined:"",dense:"",color:a.$primaria,required:""},model:{value:a.dados.inicio_dos_sintomas,callback:function(t){a.$set(a.dados,"inicio_dos_sintomas",t)},expression:"dados.inicio_dos_sintomas"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-flex",{attrs:{xs12:"",md6:""}},[e("v-select",{staticClass:"mr-2 ml-2",attrs:{outlined:"",dense:"",color:a.$primaria,items:a.sintomas,multiple:"",required:"",label:"Sintomas"},model:{value:a.dados.sintomas,callback:function(t){a.$set(a.dados,"sintomas",t)},expression:"dados.sintomas"}})],1),e("v-flex",{attrs:{xs12:"",md6:""}},[e("v-select",{staticClass:"mr-2 ml-2",attrs:{outlined:"",dense:"",color:a.$primaria,items:a.comorbidades,multiple:"",required:"",label:"Condições"},model:{value:a.dados.comorbidades,callback:function(t){a.$set(a.dados,"comorbidades",t)},expression:"dados.comorbidades"}})],1)],1),e("div",{staticClass:"expande-horizontal"},[e("v-flex",{staticClass:"pa-2",attrs:{xs12:"",md6:""}},[e("v-textarea",{directives:[{name:"show",rawName:"v-show",value:a.verificaOutrosSintomas(),expression:"verificaOutrosSintomas()"}],attrs:{color:a.$primaria,label:"Informe aqui os outros sintomas do paciente",outlined:"",dense:""},model:{value:a.dados.outros_sintomas,callback:function(t){a.$set(a.dados,"outros_sintomas",t)},expression:"dados.outros_sintomas"}})],1),e("v-flex",{staticClass:"pa-2",attrs:{xs12:"",md6:""}},[e("v-textarea",{directives:[{name:"show",rawName:"v-show",value:a.verificaOutros(),expression:"verificaOutros()"}],attrs:{color:a.$primaria,label:"Informe aqui as outras comorbidades do paciente",outlined:"",dense:""},model:{value:a.dados.outras_comorbidades,callback:function(t){a.$set(a.dados,"outras_comorbidades",t)},expression:"dados.outras_comorbidades"}})],1)],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",outlined:"",dense:"",color:a.$primaria,required:"",label:"Unidade Notificadora"},model:{value:a.dados.unidade_notificadora,callback:function(t){a.$set(a.dados,"unidade_notificadora",t)},expression:"dados.unidade_notificadora"}})],1)],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-select",{staticClass:"mr-2 ml-2",attrs:{outlined:"",dense:"",items:a.estado_do_teste,color:a.$primaria,label:"Estado do teste"},model:{value:a.dados.estado_do_teste,callback:function(t){a.$set(a.dados,"estado_do_teste",t)},expression:"dados.estado_do_teste"}}),e("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:["##/##/####"],expression:"['##/##/####']"}],staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",outlined:"",dense:"",color:a.$primaria,required:"",label:"Data da coleta"},model:{value:a.dados.data_da_coleta,callback:function(t){a.$set(a.dados,"data_da_coleta",t)},expression:"dados.data_da_coleta"}}),e("v-select",{staticClass:"mr-2 ml-2",attrs:{outlined:"",dense:"",items:a.tipos_de_teste,color:a.$primaria,label:"Tipo de teste"},model:{value:a.dados.tipo_de_teste,callback:function(t){a.$set(a.dados,"tipo_de_teste",t)},expression:"dados.tipo_de_teste"}}),e("v-select",{staticClass:"mr-2 ml-2",attrs:{outlined:"",dense:"",items:a.resultados_do_teste,color:a.$primaria,label:"Resultado do teste"},model:{value:a.dados.resultado_do_teste,callback:function(t){a.$set(a.dados,"resultado_do_teste",t)},expression:"dados.resultado_do_teste"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-select",{staticClass:"mr-2 ml-2",attrs:{outlined:"",dense:"",items:a.classificacao_final,color:a.$primaria,label:"Classificação final"},model:{value:a.dados.classificacao_final,callback:function(t){a.$set(a.dados,"classificacao_final",t)},expression:"dados.classificacao_final"}}),e("v-select",{staticClass:"mr-2 ml-2",attrs:{outlined:"",dense:"",items:a.evolucao_do_caso,color:a.$primaria,label:"Evolução do caso"},model:{value:a.dados.evolucao_do_caso,callback:function(t){a.$set(a.dados,"evolucao_do_caso",t)},expression:"dados.evolucao_do_caso"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:["##/##/####"],expression:"['##/##/####']"}],staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",outlined:"",dense:"",color:a.$primaria,required:"",label:"Data de encerramento"},model:{value:a.dados.data_de_encerramento,callback:function(t){a.$set(a.dados,"data_de_encerramento",t)},expression:"dados.data_de_encerramento"}})],1)]),e("v-btn",{staticClass:"text-capitalize white--text mt-2 ml-2",attrs:{color:"green"},on:{click:a.save}},[a._v(" Concluir "),e("v-icon",[a._v("check")])],1)],1)],1)],1)])],1)},ga=[],xa={directives:{mask:f["mask"]},data(){return{options:[{icon:"save",nome:"Concluir cadastro",action:()=>this.save()}],outros:!1,outras_comorbidades:"",dados:{responsavel:this.$store.getters.user,responsavel_id:this.$store.getters.user._id,ubs:JSON.parse(sessionStorage.ubs_selecionada),ubs_id:JSON.parse(sessionStorage.ubs_selecionada)._id,comorbidades:[],sintomas:[]},sintomas:["Dor de garganta","Dispneia","Febre","Tosse","outros"],opcoes_sim_nao:["SIM","NÃO"],sexo:["MASCULINO","FEMININO"],raca:["BRANCA","PARDA","PRETA","AMARELA","INDÍGENA"],tipos_de_teste:["TESTE RÁPIDO - ANTICORPO","TESTE RÁPIDO - ANTÍGENO","RT - PCR","TESTE SOROLÓGICO"],resultados_do_teste:["REAGENTE IGM","REAGENTE IGG","NÃO REAGENTE"],classificacao_final:["CONFIRMAÇÃO LABORATORIAL","CONFIRMAÇÃO CLÍNICA EPIDEMIOLÓGICA","DESCARTADO"],evolucao_do_caso:["CANCELADO","CURA","EM TRATAMENTO DOMICILIAR","IGNORADO","INTERNADO","INTERNADO EM UTI","ÓBITO"],comorbidades:["outros","Doenças respiratórias crônicas descompensadas","Doenças cardíacas","Doenças renais crônicas em estágio avançado","Imunossupressão","Gestante de alto risco","Portador de doenças cromossômicas"],estado_do_teste:["Solicitado","Coletado","Concluído"],funcionario:"",responsavel:[],status:["suspeito","confirmado","descartado","recuperado","óbito"]}},methods:{async save(){if(this.$refs.form.validate()){await this.$create("ficha",this.dados);this.$router.go(-1)}},verificaOutros(){let a=!1;return this.dados.comorbidades.map(t=>{"outros"===t&&(a=!0)}),a},verificaOutrosSintomas(){let a=!1;return this.dados.sintomas.map(t=>{"outros"===t&&(a=!0)}),a}},created(){this.dados.data_da_notificacao=this.$moment().format("DD/MM/YYYY")}},Ca=xa,ka=e("ac7c"),$a=e("a844"),wa=Object(r["a"])(Ca,ba,ga,!1,null,null,null),ya=wa.exports;l()(wa,{VBtn:C["a"],VCheckbox:ka["a"],VFlex:w["a"],VForm:ta["a"],VIcon:y["a"],VSelect:I["a"],VTextField:V["a"],VTextarea:$a["a"]});var Sa=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("Molde",{attrs:{title:"Fichas",options:a.options}},[e("div",{staticClass:"expande-horizontal pa-3"},[e("v-card",{staticClass:"pa-2 expande-horizontal centraliza coluna",staticStyle:{border:"1px solid #e2e2e2","border-radius":"6px"},attrs:{dark:"",color:"deep-purple"}},[e("h5",{staticClass:"ma-2 pb-4 text-center font-weight-bold text-uppercase white--text"},[a._v("filtros de busca - "+a._s(a.total_fichas)+" ficha(s) encontrada(s) ")]),e("div",{staticClass:"mt-2 centraliza expande-horizontal"},[e("v-flex",{staticClass:"px-2",attrs:{xs12:"",md3:""}},[e("v-select",{attrs:{outlined:"",dense:"",autofocus:"",autocomplete:"new-login",color:a.$primaria,"return-object":"","item-text":"nome",items:a.ubs_disponiveis,label:"Dados para:"},model:{value:a.ubs_pesquisa,callback:function(t){a.ubs_pesquisa=t},expression:"ubs_pesquisa"}})],1),e("v-flex",{staticClass:"px-2",attrs:{xs12:"",md3:""}},[e("v-text-field",{attrs:{dense:"",hint:a.total_fichas+" encontrados.",solo:"","solo-inverted":"",label:"Pesquise um nome",color:a.$primaria,"append-icon":"search"},on:{keypress:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.get_paginacao(1)}},model:{value:a.pesquisa,callback:function(t){a.pesquisa=t},expression:"pesquisa"}})],1),e("v-flex",{staticClass:"px-2",attrs:{xs12:"",md3:""},on:{keypress:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.get_paginacao(1)}}},[e("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:["##/##/####"],expression:"['##/##/####']"}],attrs:{dense:"",hint:a.total_fichas+" encontrados.",solo:"","solo-inverted":"",label:"Pesquise pela data",color:a.$primaria,"append-icon":"event"},model:{value:a.pesquisa_data,callback:function(t){a.pesquisa_data=t},expression:"pesquisa_data"}})],1),e("v-switch",{staticClass:"pb-2",attrs:{color:"white",label:"Apenas pendentes"},model:{value:a.pesquisa_pendentes,callback:function(t){a.pesquisa_pendentes=t},expression:"pesquisa_pendentes"}})],1),e("div",{staticClass:"expande-horizontal centraliza coluna semquebra"},[e("v-btn",{staticClass:"mr-2 white--text",attrs:{color:"green"},on:{click:function(t){return a.get_paginacao(1)}}},[a._v("buscar [ENTER]")]),e("v-btn",{staticClass:"mr-2",attrs:{text:"",color:"white"},on:{click:a.zera_filtro}},[a._v("zerar filtros")])],1)])],1),a.fichas_atuais.length>0?e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-simple-table",{staticStyle:{height:"100%",overflow:"auto"},attrs:{dense:""},scopedSlots:a._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left subtitle-2"},[a._v("PACIENTE")]),e("th",{staticClass:"text-left subtitle-2"},[a._v("CPF")]),e("th",{staticClass:"text-left subtitle-2"},[a._v("TIPO DE TESTE")]),e("th",{staticClass:"text-left subtitle-2"},[a._v("RESULTADO")]),e("th",{staticClass:"text-left subtitle-2"},[a._v("SITUAÇÃO")]),e("th",{staticClass:"text-left font-weight-bold subtitle-2"},[a._v("AÇÕES")])])]),e("tbody",a._l(a.fichas_atuais,(function(t,s){return e("tr",{key:t._id,staticClass:"animated fadeInUp"},[e("td",{staticClass:"fonteCorpo font-weight-light text-uppercase"},[a._v(a._s(t.nome)+" ")]),e("td",[e("span",{staticClass:"fonteCorpo font-weight-light text-uppercase"},[a._v(a._s(t.cpf))])]),e("td",[e("span",{staticClass:"fonteCorpo font-weight-light text-lowercase"},[a._v(a._s(t.tipo_de_teste))])]),e("td",[e("span",{staticClass:"fonteCorpo text-lowercase",style:"color: "+a.calcula_cor(t.resultado_do_teste)},[a._v(a._s(t.resultado_do_teste))])]),e("td",[e("span",{staticClass:"fonteCorpo font-weight-light text-lowercase"},[a._v(a._s(t.estado_do_teste))])]),e("td",[e("v-btn",{staticClass:"pa-0 ma-0 font-weight-light white--text",attrs:{color:"yellow darken-3",text:""},on:{click:function(){return a.$router.push("/home/visualizar-ficha/"+t._id)}}},[a._v("Visualizar\n                  "),e("v-icon",[a._v("remove_red_eye")])],1),a.$store.getters.user.admin?e("v-btn",{staticClass:"white--text ml-2",attrs:{color:"red darken-2",small:""},on:{click:function(e){return e.preventDefault(),a.remover(t)}}},[a._v("Excluir")]):a._e()],1)])})),0)]},proxy:!0}],null,!1,312501596)})],1),e("div",{staticClass:"expande-horizontal centraliza"},[e("v-pagination",{attrs:{"total-visible":"15",color:a.$primaria,length:a.tamanho_paginacao},on:{input:function(t){return a.get_paginacao(t)}},model:{value:a.page,callback:function(t){a.page=t},expression:"page"}})],1)],1):e("Empty")],1)},Ia=[],Va={directives:{mask:f["mask"]},data(){return{ubs_pesquisa:{nome:"GERAL"},ubs_disponiveis:[],pesquisa_pendentes:sessionStorage.pesquisar_pendentes,tamanho_paginacao:1,porcentagem:0,total_fichas:parseInt(sessionStorage.total_docs),page:sessionStorage.page,fichas_atuais:[],dados:[],dadosbkp:[],total_docs:parseInt(sessionStorage.total_docs),pagina_atual:[],pesquisa:sessionStorage.pesquisa,pesquisa_data:sessionStorage.pesquisa_data,busca_pelo_cpf:"",icone:"person",options:[{icon:"replay",nome:"Atualizar",action:()=>this.atualizar()},{icon:"add",nome:"Criar Ficha",action:()=>this.$router.push("/home/criar-ficha")}]}},watch:{pesquisa_pendentes(a){a?(this.pesquisar_pendentes(),sessionStorage.pesquisar_pendentes=a):this.zera_filtro()},pesquisa_data(a){sessionStorage.pesquisa_data=a},pesquisa(a){sessionStorage.pesquisa=a},page(a){sessionStorage.page=a}},methods:{seleciona_paginacao(a){console.log(a)},buscar_cpf(){this.$store.dispatch("up_charging");const a={cpf:this.busca_pelo_cpf};this.$axios.post("/contulta_ficha",a).then(a=>{a.data.length>0?(this.$router.push("/home/visualizar-ficha/"+a.data[0]._id),this.$store.dispatch("down_charging")):(this.$store.dispatch("snackbar_info","não há ficha para este cpf"),this.$store.dispatch("down_charging"))}).catch(a=>{this.$store.dispatch("snackbar_error",a.response.data.message),this.$store.dispatch("down_charging")})},zera_filtro(){this.pesquisa_pendentes=!1,this.pesquisa_data="",this.pesquisa="",this.dados=this.dadosbkp,this.get_paginacao(1)},calcula_cor(a){let t="";return t=a&&"IGM POSITIVO"===a?"green":"red",t},atualizar(){sessionStorage.removeItem("fichas"),this.get()},pesquisar(a){const t=a;if(""===a)this.dados=this.dados;else{const a=this.dadosbkp;let e=[],s=t.toUpperCase();a.map(a=>{let t=a.nome?a.nome.toUpperCase():"";(t.match(s)||a.data_da_notificacao.match(s))&&e.push(a)}),this.dados=e,this.calculaPage(e)}},pesquisar_pendentes(){const a=this.dados;let t=[];a.map(a=>{console.log("e",a),a.resultado_do_teste&&"Coletado"!==a.estado_do_teste||t.push(a)}),this.dados=t,this.calculaPage(t)},change_number_page(a){const t=this.dados,e=20*(parseInt(a)-1),s=20*parseInt(a);let o=t.filter((a,t)=>t>=e&&t<=s);this.pagina_atual=o},filtro_page(a){let t=this.page,e=!1,s=10*t-10,o=10*t+10;return this.dados.length>3?a<=s&&a>=o&&(e=!0):e=!0,e},get(){sessionStorage.fichas?(this.dados=JSON.parse(sessionStorage.fichas),this.dadosbkp=JSON.parse(sessionStorage.fichas),this.calculaPage(JSON.parse(sessionStorage.fichas))):(this.$store.dispatch("up_charging"),this.$axios.get("/ficha").then(a=>{sessionStorage.fichas=JSON.stringify(a.data),this.$store.dispatch("down_charging"),this.dados=a.data,this.dadosbkp=a.data,this.calculaPage(a.data)}).catch(a=>{this.$store.dispatch("down_charging"),this.$store.dispatch("snackbar_error",a.response.data.message)}))},calculaPage(a){this.tamanho_paginacao=parseInt(a.length/20),this.change_number_page(this.page)},async remover(a){await this.$del("ficha/"+a._id),await this.get()},normaliza_page(){let a=[],t=parseInt(sessionStorage.page_atual);for(let e=1;;e++){if(!(e<=t)){let t=this.$storage.has("dados_cadastrados")?JSON.parse(this.$storage.get("dados_cadastrados").dados):[];a=[...a,...t],this.dados=a,this.dadosbkp=a,this.porcentagem=a.length,this.calculaPage(a);break}{let t=JSON.parse(this.$storage.get("page_"+e).dados);a=[...a,...t]}}},getPage(){const a=parseInt(sessionStorage.page_atual)?parseInt(sessionStorage.page_atual):0,t=parseInt(sessionStorage.total_pages)?parseInt(sessionStorage.total_pages):1;console.log("page atual",a),console.log("total",t);const e=parseInt(a)+1;t!==a&&this.$axios.get("/ficha/pagina/"+e).then(a=>{sessionStorage.fichas=!0,sessionStorage.total_pages=a.data.totalPages,sessionStorage.total_docs=a.data.totalDocs,this.$storage.set("page_"+e,{dados:JSON.stringify(a.data.docs)}),sessionStorage.page_atual=e,this.normaliza_page(),this.getPage()})},get_ubs(){let a=JSON.parse(sessionStorage.ubs_disponiveis);a.push({_id:void 0,nome:"GERAL"}),this.ubs_disponiveis=a},get_paginacao(a){this.$store.dispatch("up_charging");const t={query_nome:""!==this.pesquisa&&this.pesquisa,query_data:""!==this.pesquisa_data&&this.pesquisa_data,query_pendentes:!!this.pesquisa_pendentes&&"Coletado",query_ubs:this.ubs_pesquisa._id};this.$axios.post("/ficha/pagina/"+a,t).then(t=>{this.$store.dispatch("down_charging"),sessionStorage.fichas=!0,sessionStorage.total_pages=t.data.totalPages,sessionStorage.total_docs=t.data.totalDocs,this.fichas_atuais=t.data.docs,sessionStorage.page_atual=a,this.tamanho_paginacao=t.data.totalPages,this.total_fichas=t.data.totalDocs,this.page=t.data.page,sessionStorage.total_pages=t.data.totalPages,sessionStorage.total_docs=t.data.totalDocs})}},created(){this.get_ubs();const a=sessionStorage.page?parseInt(sessionStorage.page):1;this.get_paginacao(a);const t=this;this.handler=function(a){t.$emit("keyup",a),a.altKey&&"n"===a.key&&t.$router.push("/home/cadastrar-cliente"),"Escape"===a.key&&t.$router.go(-1)},window.addEventListener("keyup",this.handler)},beforeDestroy(){window.removeEventListener("keyup",this.handler)}},qa=Va,Aa=e("62ad"),Oa=e("891e"),Da=e("0fd9"),Ea=e("b73d"),za=Object(r["a"])(qa,Sa,Ia,!1,null,null,null),ja=za.exports;l()(za,{VBtn:C["a"],VCard:k["a"],VCol:Aa["a"],VFlex:w["a"],VIcon:y["a"],VPagination:Oa["a"],VRow:Da["a"],VSelect:I["a"],VSimpleTable:la["a"],VSwitch:Ea["a"],VTextField:V["a"]});var Na=function(){var a=this,t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Molde",{attrs:{title:"VISUALIZAR FICHA",icon:"description",options:t.options}},[s("v-tabs",{attrs:{color:"blue"},model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[s("v-tab",[t._v("INFORMAÇÕES")]),s("v-tab",{on:{click:function(a){return t.get("ficha_diario_bordo",t.id)}}},[t._v("ACOMPANHAMENTO")]),s("v-tab",[t._v("NOTIFICAÇÃO")])],1),s("v-divider"),s("v-tabs-items",{model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[s("v-tab-item",[s("div",{staticClass:"expande-horizontal"},[s("v-flex",{staticClass:"pa-3 ",attrs:{xs12:""}},[s("v-form",{ref:"form"},[s("div",{staticClass:"expande-horizontal semquebra"},[s("v-text-field",{staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",label:"UF NOTIFICAÇÂO",dense:"",color:t.$primaria,required:""},model:{value:t.dados.estado_de_notificacao,callback:function(a){t.$set(t.dados,"estado_de_notificacao",a)},expression:"dados.estado_de_notificacao"}}),s("v-text-field",{staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",label:"MUNICÍPIO NOTIFICAÇÃO",dense:"",color:t.$primaria,required:""},model:{value:t.dados.municipio_de_notificacao,callback:function(a){t.$set(t.dados,"municipio_de_notificacao",a)},expression:"dados.municipio_de_notificacao"}}),s("v-text-field",{staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",label:"RESPONSÁVEL",dense:"",color:t.$primaria,required:""},model:{value:t.dados.responsavel.nome,callback:function(a){t.$set(t.dados.responsavel,"nome",a)},expression:"dados.responsavel.nome"}}),s("v-select",{attrs:{dense:"",autofocus:"",autocomplete:"new-login",color:t.$primaria,"return-object":"","item-text":"nome",items:t.ubs_disponiveis,label:"Centro de origem:"},model:{value:t.dados.ubs.nome,callback:function(a){t.$set(t.dados.ubs,"nome",a)},expression:"dados.ubs.nome"}})],1),s("div",{staticClass:"expande-horizontal coluna",staticStyle:{border:"1px solid #e2e2e2"}},[s("h3",{staticClass:"pa-2"},[t._v("IDENTIFICAÇÃO")]),s("div",{staticClass:"expande-horizontal semquebra centraliza"},[s("v-checkbox",{staticClass:"pa-2",attrs:{outlined:"",dense:"",color:t.$primaria,label:"Tem cpf?"},model:{value:t.dados.tem_cpf,callback:function(a){t.$set(t.dados,"tem_cpf",a)},expression:"dados.tem_cpf"}}),s("v-checkbox",{staticClass:"pa-2",attrs:{outlined:"",dense:"",color:t.$primaria,label:"É Profissional da Saúde?"},model:{value:t.dados.profissional_de_saude,callback:function(a){t.$set(t.dados,"profissional_de_saude",a)},expression:"dados.profissional_de_saude"}}),s("v-checkbox",{staticClass:"pa-2",attrs:{outlined:"",dense:"",color:t.$primaria,label:"É estrangeiro?"},model:{value:t.dados.estrangeiro,callback:function(a){t.$set(t.dados,"estrangeiro",a)},expression:"dados.estrangeiro"}}),s("v-text-field",{staticClass:"mr-2 ml-2",attrs:{outlined:"",type:"Number",label:"CBO",dense:"",color:t.$primaria,required:""},model:{value:t.dados.cbo,callback:function(a){t.$set(t.dados,"cbo",a)},expression:"dados.cbo"}}),s("v-text-field",{staticClass:"mr-2 ml-2",attrs:{outlined:"",type:"Number",label:"CNS",dense:"",color:t.$primaria,required:""},model:{value:t.dados.cns,callback:function(a){t.$set(t.dados,"cns",a)},expression:"dados.cns"}})],1),s("div",{staticClass:"expande-horizontal semquebra"},[s("v-text-field",{staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",outlined:"",dense:"",color:t.$primaria,required:"",label:"Nome completo"},model:{value:t.dados.nome,callback:function(a){t.$set(t.dados,"nome",a)},expression:"dados.nome"}}),t.dados.tem_cpf?s("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:["###.###.###-##"],expression:"['###.###.###-##']"}],staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",hint:"123.456.789-10",outlined:"",dense:"",color:t.$primaria,required:"",label:"CPF"},model:{value:t.dados.cpf,callback:function(a){t.$set(t.dados,"cpf",a)},expression:"dados.cpf"}}):t._e()],1),s("div",{staticClass:"expande-horizontal semquebra"},[s("v-text-field",{staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",outlined:"",dense:"",color:t.$primaria,required:"",label:"Nome completo da mãe"},model:{value:t.dados.nome_da_mae,callback:function(a){t.$set(t.dados,"nome_da_mae",a)},expression:"dados.nome_da_mae"}})],1),s("div",{staticClass:"expande-horizontal semquebra"},[s("v-flex",{attrs:{xs12:"",md6:""}},[s("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:["##/##/####"],expression:"['##/##/####']"}],staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",hint:"DIA/MES/ANO",outlined:"",dense:"",color:t.$primaria,required:"",label:"Data de nascimento"},model:{value:t.dados.nascimento,callback:function(a){t.$set(t.dados,"nascimento",a)},expression:"dados.nascimento"}})],1),s("v-flex",{attrs:{xs12:"",md6:""}},[s("v-text-field",{staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",outlined:"",dense:"",color:t.$primaria,required:"",label:"País de origem"},model:{value:t.dados.pais_de_origem,callback:function(a){t.$set(t.dados,"pais_de_origem",a)},expression:"dados.pais_de_origem"}})],1)],1),s("div",{staticClass:"expande-horizontal semquebra"},[s("v-flex",{attrs:{xs12:"",md6:""}},[s("v-select",{staticClass:"mr-2 ml-2",attrs:{outlined:"",dense:"",color:t.$primaria,items:t.sexo,required:"",label:"Sexo"},model:{value:t.dados.sexo,callback:function(a){t.$set(t.dados,"sexo",a)},expression:"dados.sexo"}})],1),s("v-flex",{attrs:{xs12:"",md6:""}},[s("v-select",{staticClass:"mr-2 ml-2",attrs:{outlined:"",dense:"",color:t.$primaria,items:t.raca,required:"",label:"Raça"},model:{value:t.dados.raca,callback:function(a){t.$set(t.dados,"raca",a)},expression:"dados.raca"}})],1),s("v-flex",{attrs:{xs12:"",md6:""}},[s("v-text-field",{staticClass:"mr-2 ml-2",attrs:{outlined:"",dense:"",color:t.$primaria,items:t.raca,required:"",label:"Passaporte"},model:{value:t.dados.passaporte,callback:function(a){t.$set(t.dados,"passaporte",a)},expression:"dados.passaporte"}})],1)],1)]),s("div",{staticClass:"expande-horizontal coluna",staticStyle:{border:"1px solid #e2e2e2"}},[s("h3",{staticClass:"pa-2"},[t._v("DADOS CLÍNICOS EPIDEMIOLÓGICOS")]),s("div",{staticClass:"expande-horizontal semquebra"},[s("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:["##.###-###"],expression:"['##.###-###']"}],staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",label:"CEP",outlined:"",dense:"",color:t.$primaria,required:""},model:{value:t.dados.cep,callback:function(a){t.$set(t.dados,"cep",a)},expression:"dados.cep"}}),s("v-text-field",{staticClass:"mr-2 ml-2",attrs:{outlined:"",autocomplete:"new-field",label:"UF DE RESIDÊNCIA",dense:"",color:t.$primaria,required:""},model:{value:t.dados.estado_de_residencia,callback:function(a){t.$set(t.dados,"estado_de_residencia",a)},expression:"dados.estado_de_residencia"}}),s("v-text-field",{staticClass:"mr-2 ml-2",attrs:{outlined:"",autocomplete:"new-field",label:"MUNICÍPIO DE RESIDÊNCIA",dense:"",color:t.$primaria,required:""},model:{value:t.dados.municipio_de_residencia,callback:function(a){t.$set(t.dados,"municipio_de_residencia",a)},expression:"dados.municipio_de_residencia"}})],1),s("div",{staticClass:"expande-horizontal semquebra"},[s("v-text-field",{staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",label:"Endereço",outlined:"",dense:"",color:t.$primaria,required:""},model:{value:t.dados.endereco,callback:function(a){t.$set(t.dados,"endereco",a)},expression:"dados.endereco"}})],1),s("div",{staticClass:"expande-horizontal semquebra"},[s("v-text-field",{staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",label:"Número da casa",outlined:"",dense:"",color:t.$primaria,required:""},model:{value:t.dados.numero_casa,callback:function(a){t.$set(t.dados,"numero_casa",a)},expression:"dados.numero_casa"}}),s("v-text-field",{staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",label:"Bairro",outlined:"",dense:"",color:t.$primaria,required:""},model:{value:t.dados.bairro,callback:function(a){t.$set(t.dados,"bairro",a)},expression:"dados.bairro"}})],1),s("div",{staticClass:"expande-horizontal semquebra"},[s("v-text-field",{staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",label:"Contatos",placeholder:"ex: Telefone, email, etc...",outlined:"",dense:"",color:t.$primaria,required:""},model:{value:t.dados.contatos,callback:function(a){t.$set(t.dados,"contatos",a)},expression:"dados.contatos"}})],1),s("div",{staticClass:"expande-horizontal semquebra"},[s("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:["##/##/####"],expression:"['##/##/####']"}],staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",hint:"DIA/MES/ANO",label:"Data da notificação",outlined:"",dense:"",color:t.$primaria,required:""},model:{value:t.dados.data_da_notificacao,callback:function(a){t.$set(t.dados,"data_da_notificacao",a)},expression:"dados.data_da_notificacao"}}),s("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:["##/##/####"],expression:"['##/##/####']"}],staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",hint:"DIA/MES/ANO",label:"Início dos sintomas",outlined:"",dense:"",color:t.$primaria,required:""},model:{value:t.dados.inicio_dos_sintomas,callback:function(a){t.$set(t.dados,"inicio_dos_sintomas",a)},expression:"dados.inicio_dos_sintomas"}})],1),s("div",{staticClass:"expande-horizontal semquebra"},[s("v-flex",{attrs:{xs12:"",md6:""}},[s("v-select",{staticClass:"mr-2 ml-2",attrs:{outlined:"",dense:"",color:t.$primaria,items:t.sintomas,multiple:"",required:"",label:"Sintomas"},model:{value:t.dados.sintomas,callback:function(a){t.$set(t.dados,"sintomas",a)},expression:"dados.sintomas"}})],1),s("v-flex",{attrs:{xs12:"",md6:""}},[s("v-select",{staticClass:"mr-2 ml-2",attrs:{outlined:"",dense:"",color:t.$primaria,items:t.comorbidades,multiple:"",required:"",label:"Condições"},model:{value:t.dados.comorbidades,callback:function(a){t.$set(t.dados,"comorbidades",a)},expression:"dados.comorbidades"}})],1)],1),s("div",{staticClass:"expande-horizontal"},[s("v-flex",{staticClass:"pa-2",attrs:{xs12:"",md6:""}},[s("v-textarea",{directives:[{name:"show",rawName:"v-show",value:t.verificaOutrosSintomas(),expression:"verificaOutrosSintomas()"}],attrs:{color:t.$primaria,label:"Informe aqui os outros sintomas do paciente",outlined:"",dense:""},model:{value:t.dados.outros_sintomas,callback:function(a){t.$set(t.dados,"outros_sintomas",a)},expression:"dados.outros_sintomas"}})],1),s("v-flex",{staticClass:"pa-2",attrs:{xs12:"",md6:""}},[s("v-textarea",{directives:[{name:"show",rawName:"v-show",value:t.verificaOutros(),expression:"verificaOutros()"}],attrs:{color:t.$primaria,label:"Informe aqui as outras comorbidades do paciente",outlined:"",dense:""},model:{value:t.dados.outras_comorbidades,callback:function(a){t.$set(t.dados,"outras_comorbidades",a)},expression:"dados.outras_comorbidades"}})],1)],1),s("div",{staticClass:"expande-horizontal semquebra"},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",outlined:"",dense:"",color:t.$primaria,required:"",label:"Unidade Notificadora"},model:{value:t.dados.unidade_notificadora,callback:function(a){t.$set(t.dados,"unidade_notificadora",a)},expression:"dados.unidade_notificadora"}})],1)],1),s("div",{staticClass:"expande-horizontal semquebra"},[s("v-select",{staticClass:"mr-2 ml-2",attrs:{outlined:"",dense:"",items:t.estado_do_teste,color:t.$primaria,label:"Estado do teste"},model:{value:t.dados.estado_do_teste,callback:function(a){t.$set(t.dados,"estado_do_teste",a)},expression:"dados.estado_do_teste"}}),s("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:["##/##/####"],expression:"['##/##/####']"}],staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",outlined:"",dense:"",color:t.$primaria,required:"",label:"Data da coleta"},model:{value:t.dados.data_da_coleta,callback:function(a){t.$set(t.dados,"data_da_coleta",a)},expression:"dados.data_da_coleta"}}),s("v-select",{staticClass:"mr-2 ml-2",attrs:{outlined:"",dense:"",items:t.tipos_de_teste,color:t.$primaria,label:"Tipo de teste"},model:{value:t.dados.tipo_de_teste,callback:function(a){t.$set(t.dados,"tipo_de_teste",a)},expression:"dados.tipo_de_teste"}}),s("v-select",{staticClass:"mr-2 ml-2",attrs:{outlined:"",dense:"",items:t.resultados_do_teste,color:t.$primaria,label:"Resultado do teste"},model:{value:t.dados.resultado_do_teste,callback:function(a){t.$set(t.dados,"resultado_do_teste",a)},expression:"dados.resultado_do_teste"}})],1),s("div",{staticClass:"expande-horizontal semquebra"},[s("v-select",{staticClass:"mr-2 ml-2",attrs:{outlined:"",dense:"",items:t.classificacao_final,color:t.$primaria,label:"Classificação final"},model:{value:t.dados.classificacao_final,callback:function(a){t.$set(t.dados,"classificacao_final",a)},expression:"dados.classificacao_final"}}),s("v-select",{staticClass:"mr-2 ml-2",attrs:{outlined:"",dense:"",items:t.evolucao_do_caso,color:t.$primaria,label:"Evolução do caso"},model:{value:t.dados.evolucao_do_caso,callback:function(a){t.$set(t.dados,"evolucao_do_caso",a)},expression:"dados.evolucao_do_caso"}})],1),s("div",{staticClass:"expande-horizontal semquebra"},[s("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:["##/##/####"],expression:"['##/##/####']"}],staticClass:"mr-2 ml-2",attrs:{autocomplete:"new-field",outlined:"",dense:"",color:t.$primaria,required:"",label:"Data de encerramento"},model:{value:t.dados.data_de_encerramento,callback:function(a){t.$set(t.dados,"data_de_encerramento",a)},expression:"dados.data_de_encerramento"}})],1)]),s("v-btn",{staticClass:"text-capitalize white--text mt-2 ml-2",attrs:{color:"green"},on:{click:t.save}},[t._v(" Concluir "),s("v-icon",[t._v("check")])],1)],1)],1)],1)]),s("v-tab-item",[s("div",{staticClass:"expande-horizontal coluna"},[s("DiarioDeBordo",{attrs:{dados:t.ficha_diario_bordo,id:this.id}})],1)]),s("v-tab-item",[s("div",{staticStyle:{padding:"10px",display:"flex",width:"100%","flex-direction":"column"},attrs:{id:"impressaoNotificacao"}},[s("h3",{staticStyle:{"text-align":"center"}},[t._v("NOTIFICAÇÃO - "+t._s(t.$moment().format("DD/MM/YYYY [às] HH:mm"))+" ")]),s("table",{attrs:{border:"1"}},[s("tr",[s("th",{staticStyle:{"text-align":"left",width:"40px","padding-left":"10px","padding-right":"10px"}},[t._v("PACIENTE")]),s("td",{staticStyle:{"padding-left":"10px","padding-right":"10px"}},[t._v(t._s(t.dados.nome))])]),s("tr",[s("th",{staticStyle:{"text-align":"left",width:"40px","padding-left":"10px","padding-right":"10px"}},[t._v("NASCIMENTO")]),s("td",{staticStyle:{"padding-left":"10px","padding-right":"10px"}},[t._v(t._s(t.dados.nascimento))])]),s("tr",[s("th",{staticStyle:{"text-align":"left",width:"40px","padding-left":"10px","padding-right":"10px"}},[t._v("ENDEREÇO")]),s("td",{staticStyle:{"padding-left":"10px","padding-right":"10px"}},[t._v(t._s(t.dados.endereco)+" "+t._s(t.dados.numero)+" "+t._s(t.dados.bairro))])]),s("tr",[s("th",{staticStyle:{"text-align":"left",width:"40px","padding-left":"10px","padding-right":"10px"}},[t._v("CONTATO")]),s("td",{staticStyle:{"padding-left":"10px","padding-right":"10px"}},[t._v(t._s(t.dados.contatos))])]),s("tr",[s("th",{staticStyle:{"text-align":"left",width:"40px","padding-left":"10px","padding-right":"10px"}},[t._v("CPF")]),s("td",{staticStyle:{"padding-left":"10px","padding-right":"10px"}},[t._v(t._s(t.dados.cpf))])]),s("tr",[s("th",{staticStyle:{"text-align":"left",width:"40px","padding-left":"10px","padding-right":"10px"}},[t._v("TIPO DE TESTE")]),s("td",{staticStyle:{"padding-left":"10px","padding-right":"10px"}},[t._v(t._s(t.dados.tipo_de_teste))])]),s("tr",[s("th",{staticStyle:{"text-align":"left",width:"40px","padding-left":"10px","padding-right":"10px"}},[t._v("DATA DA COLETA")]),s("td",{staticStyle:{"padding-left":"10px","padding-right":"10px"}},[t._v(t._s(t.dados.data_da_coleta))])])])]),s("v-btn",{staticClass:"ml-2 white--text pa-2",attrs:{color:"green"},on:{click:t.imprimeNotificacao}},[s("v-icon",{staticClass:"mr-2 "},[t._v("print")]),t._v(" IMPRIMIR NOTIFICAÇÃO")],1)],1)],1)],1),s("AddDiarioDeBordo",{attrs:{abrir:t.add_diario_de_bordo,fechar:function(){a.add_diario_de_bordo=!1,a.get("ficha_diario_bordo",a.id)},id:this.id}})],1)},Ta=[],Fa=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-dialog",{attrs:{persistent:"",width:"350"},model:{value:a.abrir,callback:function(t){a.abrir=t},expression:"abrir"}},[e("v-card",{staticClass:"pa-4",staticStyle:{display:"flex","flex-direction":"column",width:"100%"},attrs:{light:""}},[e("div",{staticClass:"expande-horizontal coluna"},[e("div",{staticClass:"expande-horizontal centraliza semquebra"},[e("h3",{staticClass:"text-center pb-2"},[a._v("Adicionar Acompanhamento")]),e("v-spacer"),e("v-icon",{staticClass:"mb-2",attrs:{color:"black"}},[a._v("group")])],1),e("v-divider"),e("v-textarea",{staticClass:"pa-3",attrs:{label:"Mensagem",placeholder:"Escreva aqui o resultado do acompanhamento",outlined:"",color:a.$primaria},model:{value:a.dados.mensagem,callback:function(t){a.$set(a.dados,"mensagem",t)},expression:"dados.mensagem"}}),e("div",{staticStyle:{display:"flex",width:"100%","justify-content":"center","flex-wrap":"nowrap"}},[e("v-btn",{staticClass:" mr-2 white--text",attrs:{text:"",color:"red"},on:{click:this.fechar}},[a._v("Cancelar")]),e("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:a.add}},[a._v("Adicionar")])],1)],1)])],1)},La=[],Pa={props:["abrir","fechar","id"],data(){return{dados:{},options:[]}},methods:{async add(){const a={mensagem:this.dados.mensagem,ficha_id:this.id};await this.$create("ficha_diario_bordo/"+this.id,a),this.fechar()}}},Ma=Pa,Ra=e("2fa4"),Ba=Object(r["a"])(Ma,Fa,La,!1,null,null,null),Ua=Ba.exports;l()(Ba,{VBtn:C["a"],VCard:k["a"],VDialog:$["a"],VDivider:N["a"],VIcon:y["a"],VSpacer:Ra["a"],VTextarea:$a["a"]});var Ya=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticStyle:{"min-height":"90vh"}},[a.dados.length>0?e("v-simple-table",{scopedSlots:a._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",[a._v("Parecer")]),e("th",[a._v("Data e hora")])])]),e("tbody",a._l(a.dados,(function(t){return e("tr",{key:t._id},[e("td",{staticClass:"font-weight-bold fonteCorpo"},[a._v(a._s(t.mensagem))]),e("td",{staticClass:"font-weight-bold fonteCorpo grey--text"},[a._v(a._s(a.$moment(t.created_at).format("DD/MM/YYYY [às] HH:mm")))])])})),0)]},proxy:!0}],null,!1,416522118)}):e("Empty")],1)},Ha=[],Ja={props:["dados"],methods:{async remove(a){await this.$del("ficha_diario_bordo/"+a._id)}}},Ga=Ja,Xa=Object(r["a"])(Ga,Ya,Ha,!1,null,null,null),Za=Xa.exports;l()(Xa,{VSimpleTable:la["a"]});var Qa=e("3748"),Ka=e.n(Qa),Wa={props:["id"],directives:{mask:f["mask"]},components:{AddDiarioDeBordo:Ua,DiarioDeBordo:Za},data(){return{show_printer:!1,ordem_notificacao:"",ordem_prontuario:"",options:[{icon:"print",nome:"Imprimir Notificação",action:()=>this.imprimeNotificacao()},{icon:"add",nome:"Acompanhamento",action:()=>this.add_diario_de_bordo=!0},{icon:"save",nome:"Salvar Alterações",action:()=>this.save()}],tab:0,ficha_diario_bordo:[],add_diario_de_bordo:!1,dados:{responsavel:this.$store.getters.user,responsavel_id:this.$store.getters.user._id,comorbidades:[],sintomas:[],ubs:{nome:""}},ubs_disponiveis:[],d:null,sintomas:["Dor de garganta","Dispneia","Febre","Tosse","outros"],opcoes_sim_nao:["SIM","NÃO"],sexo:["MASCULINO","FEMININO"],raca:["BRANCA","PARDA","PRETA","AMARELA","INDÍGENA"],tipos_de_teste:["TESTE RÁPIDO - ANTICORPO","TESTE RÁPIDO - ANTÍGENO","RT - PCR","TESTE SOROLÓGICO"],resultados_do_teste:["REAGENTE IGM","REAGENTE IGG","NÃO REAGENTE"],classificacao_final:["CONFIRMAÇÃO LABORATORIAL","CONFIRMAÇÃO CLÍNICA EPIDEMIOLÓGICA","DESCARTADO"],evolucao_do_caso:["CANCELADO","CURA","EM TRATAMENTO DOMICILIAR","IGNORADO","INTERNADO","INTERNADO EM UTI","ÓBITO"],comorbidades:["outros","Doenças respiratórias crônicas descompensadas","Doenças cardíacas","Doenças renais crônicas em estágio avançado","Imunossupressão","Gestante de alto risco","Portador de doenças cromossômicas"],estado_do_teste:["Solicitado","Coletado","Concluído"],funcionario:"",responsavel:[],status:["suspeito","confirmado","descartado","recuperado","óbito"]}},methods:{async get(a,t){this[""+a]=await this.$list(`${a}/${t}`)},async save(){this.$refs.form.validate()&&(await this.$update("ficha/"+this.id,this.dados),this.$router.go(-1))},async imprimeProntuario(){this.tab=2;const a={ubs:JSON.parse(sessionStorage.ubs_selecionada),ubs_id:JSON.parse(sessionStorage.ubs_selecionada)._id,data:this.$moment().format("DD/MM/YYYY"),hora:this.$moment().format("HH:mm"),ficha:this.dados,ficha_id:this.id},t=await this.$create("/ficha_prontuario/"+this.id,a);this.ordem_prontuario=t.ordem,this.registraProntuario()},imprimeNotificacao(){this.tab=3;const a={ubs:JSON.parse(sessionStorage.ubs_selecionada),ubs_id:JSON.parse(sessionStorage.ubs_selecionada)._id,data:this.$moment().format("DD/MM/YYYY"),hora:this.$moment().format("HH:mm"),ficha:this.dados,ficha_id:this.id};this.$store.dispatch("up_charging"),this.$axios.post("/ficha_notificacao/"+this.id,a).then(a=>{this.$store.dispatch("down_charging"),this.ordem_notificacao=a.data.ordem,this.registraNotificacao()}).catch(a=>{this.$store.dispatch("down_charging"),this.$store.dispatch("snackbar_error",a)})},async registraProntuario(){setTimeout(()=>this.d.print(document.getElementById("impressaoProntuario")),100)},async registraNotificacao(){setTimeout(()=>this.d.print(document.getElementById("impressaoNotificacao")),100)},verificaOutros(){let a=!1;return this.dados.comorbidades.map(t=>{"outros"===t&&(a=!0)}),a},verificaOutrosSintomas(){let a=!1;return this.dados.sintomas.map(t=>{"outros"===t&&(a=!0)}),a},async get_ficha(){let a=await this.$show("ficha/"+this.id);console.log("dados",a);let t=a;void 0===a.ubs_id&&(t.ubs={nome:"Aguardando"},this.dados=t)}},mounted(){this.d=new Ka.a;const{contentWindow:a}=this.d.getIFrame()},async created(){this.ubs_disponiveis=JSON.parse(sessionStorage.ubs_disponiveis),this.get_ficha()}},at=Wa,tt=e("71a3"),et=e("c671"),st=e("fe57"),ot=e("aac8"),it=Object(r["a"])(at,Na,Ta,!1,null,null,null),rt=it.exports;l()(it,{VBtn:C["a"],VCheckbox:ka["a"],VDivider:N["a"],VFlex:w["a"],VForm:ta["a"],VIcon:y["a"],VSelect:I["a"],VTab:tt["a"],VTabItem:et["a"],VTabs:st["a"],VTabsItems:ot["a"],VTextField:V["a"],VTextarea:$a["a"]});const nt=[{path:"/home/criar-ficha",component:ya},{path:"/home/listar-ficha",component:ja},{path:"/home/visualizar-ficha/:id",component:rt,props:!0}];var lt=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("Molde",{attrs:{title:"Relatórios"}},[e("v-container",{staticClass:"mt-4",attrs:{fluid:""}},[e("v-layout",{attrs:{row:""}},[e("div",{staticClass:"expande-horizontal centraliza"},[e("div",{staticClass:"coluna",style:"display: flex; width: "+(a.$vuetify.breakpoint.smAndDown,"100%")},[e("div",{staticClass:"expande-horizontal",staticStyle:{"flex-wrap":"wrap"}},[e("v-flex",{staticClass:"pa-2",style:"cursor: pointer",attrs:{xs12:"",md4:""}},[e("v-card",{staticClass:" mx-auto"},[e("v-sheet",{staticClass:"btnn v-sheet--offset mx-auto",attrs:{color:"white","max-width":"calc(100% - 25px)"}},[e("Chart",{attrs:{id:"notificados",type:"line",labels:a.labels,dados:a.chartNotificados}})],1),e("v-card-text",{staticClass:"pt-0"},[e("h3",{staticClass:"fonteCorpo"},[a._v(" "+a._s(a.fichas.length)+" Caso(s) notificado(s) ")])])],1)],1),e("v-flex",{staticClass:"pa-2",class:a.$vuetify.breakpoint.smAndDown?"mt-5":"",style:"cursor: pointer",attrs:{xs12:"",md4:""}},[e("v-card",{staticClass:"mx-auto"},[e("v-sheet",{staticClass:"btnn4 v-sheet--offset mx-auto",attrs:{color:"white","max-width":"calc(100% - 25px)"}},[e("Chart",{attrs:{id:"positivos",type:"line",labels:a.labels,dados:a.chartPositivo}})],1),e("v-card-text",{staticClass:"pt-0"},[e("h3",{staticClass:"fonteCorpo"},[a._v(" "+a._s(a.positivos.length)+" Caso(s) Positivo(s) ")])])],1)],1),e("v-flex",{staticClass:"pa-2",class:a.$vuetify.breakpoint.smAndDown?"mt-5":"",style:"cursor: pointer",attrs:{xs12:"",md4:""}},[e("v-card",{staticClass:"mx-auto"},[e("v-sheet",{staticClass:"btnn3 v-sheet--offset mx-auto",attrs:{color:"white","max-width":"calc(100% - 25px)"}},[e("Chart",{attrs:{id:"negativos",type:"line",labels:a.labels,dados:a.chartNegativo}})],1),e("v-card-text",{staticClass:"pt-0"},[e("h3",{staticClass:"fonteCorpo"},[a._v(" "+a._s(a.negativos.length)+" Caso(s) Negativo(s) ")])])],1)],1)],1)])])])],1)],1)},ct=[],dt=e("c1df"),ut=e.n(dt),mt={data(){return{effects:{userScale:.9,class:""},fichas:[],suspeitos:[],confirmados:[],descartados:[],recuperados:[],obitos:[],positivos:[],negativos:[],chartFichas:[],chartSuspeitos:[],chartConfirmados:[],chartDescartados:[],chartRecuperados:[],chartObitos:[],chartPositivo:[],chartNegativo:[],labels:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"]}},methods:{async getFichas(){if(sessionStorage.fichas)this.fichas=JSON.parse(sessionStorage.fichas),this.chart(JSON.parse(sessionStorage.fichas),"notificados"),this.getPositivos(JSON.parse(sessionStorage.fichas)),this.getNegativos(JSON.parse(sessionStorage.fichas));else{const a=await this.$list("ficha");this.fichas=a,this.chart(a,"notificados"),this.getPositivos(a),this.getNegativos(a)}},getPositivos(a){a.map(a=>{"IGM POSITIVO"===a.resultado_do_teste&&this.positivos.push(a)}),this.chart(this.positivos,"positivos")},getNegativos(a){a.map(a=>{"IGM NEGATIVO"===a.resultado_do_teste&&this.negativos.push(a)}),this.chart(this.negativos,"negativos")},getSuspeitos(a){a.map(a=>{""!==a.situacao_do_paciente&&"SUSPEITA"!==a.situacao_do_paciente&&"ALTA DIA 01/04"!==a.situacao_do_paciente&&"Alta dia 30/03"!==a.situacao_do_paciente&&"suspeito"!==a.situacao_do_paciente&&"ALTA"!==a.situacao_do_paciente&&"\tALTA DIA 30"!==a.situacao_do_paciente&&"SUSPEITO"!==a.situacao_do_paciente&&"PARA ACOMPANHAMENTO"!==a.situacao_do_paciente||this.suspeitos.push(a)}),this.chart(this.suspeitos,"suspeitos")},getConfirmados(a){a.map(a=>{"POSITIVA"!==a.situacao_do_paciente&&"confirmado"!==a.situacao_do_paciente&&"POSITIVO"!==a.situacao_do_paciente&&"POSITIVO DIA 30"!==a.situacao_do_paciente||this.confirmados.push(a)}),this.chart(this.confirmados,"confirmados")},getDescartados(a){a.map(a=>{"descartado"!==a.situacao_do_paciente&&"NEGATIVO"!==a.situacao_do_paciente&&"NEGATIVA"!==a.situacao_do_paciente||this.descartados.push(a)}),this.chart(this.descartados,"descartados")},normaliza_page(){let a=[],t=parseInt(sessionStorage.page_atual);for(let e=1;;e++){if(!(e<=t)){this.dados=a,this.dadosbkp=a,this.calculaPage(a),console.log("ok");break}{let t=JSON.parse(sessionStorage["page_"+e]);a=[...a,...t]}}},getObitos(a){a.map(a=>{"óbito"===a.situacao_do_paciente&&this.obitos.push(a)}),this.chart(this.obitos,"obitos")},getRecuperados(a){a.map(a=>{"recuperado"===a.situacao_do_paciente&&this.recuperados.push(a)}),this.chart(this.recuperados,"recuperados")},chart(a,t){let e=[0,0,0,0,0,0,0,0,0,0,0,0];switch(a.filter(a=>{switch(console.log("mes",ut()(a.data_ativacao?a.data_ativacao:a.criadoEm,"X").format("MM")),""+ut()(a.data_ativacao?a.data_ativacao:a.criadoEm,a.data_ativacao?"x":"").format("MM")){case"01":return e[0]=1;case"02":return e[1]+=1;case"03":return e[2]+=1;case"04":return e[3]+=1;case"05":return e[4]+=1;case"06":return e[5]+=1;case"07":return e[6]+=1;case"08":return e[7]+=1;case"09":return e[8]+=1;case"10":return e[9]+=1;case"11":return e[10]+=1;case"12":return e[11]+=1;default:console.log("n/a")}}),t){case"notificados":this.chartNotificados=e;break;case"suspeitos":this.chartSuspeitos=e;break;case"confirmados":this.chartConfirmados=e;break;case"descartados":this.chartDescartados=e;break;case"recuperados":this.chartRecuperados=e;break;case"obitos":this.chartObitos=e;break;case"positivos":this.chartPositivo=e;break;case"negativos":this.chartNegativo=e;break;default:console.log("n/a")}}},created(){this.normaliza_page(),setInterval(()=>this.normaliza_page(),1e4)}},pt=mt,ht=(e("656e"),e("99d9")),vt=e("a523"),ft=e("a722"),_t=e("8dd9"),bt=Object(r["a"])(pt,lt,ct,!1,null,null,null),gt=bt.exports;l()(bt,{VCard:k["a"],VCardText:ht["a"],VContainer:vt["a"],VFlex:w["a"],VLayout:ft["a"],VSheet:_t["a"]});const xt=[{path:"/home/listar-painel",component:gt}];var Ct,kt,$t,wt,yt={},St=Object(r["a"])(yt,Ct,kt,!1,null,null,null),It=St.exports,Vt=function(){var a=this,t=this,e=t.$createElement,s=t._self._c||e;return s("Molde",{attrs:{title:"Notificações",options:t.options}},[s("div",{staticStyle:{"min-height":"90vh"}},[s("v-flex",{staticClass:"pa-2 pt-4",attrs:{xs12:"",md6:""}},[s("div",{staticClass:"expande-horizontal semquebra"},[s("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(a){var e=a.on;return[s("v-text-field",t._g({attrs:{outlined:"",dense:"",label:"DATA A BUSCAR","append-icon":"event",color:t.$primaria,readonly:"",hint:t.$moment(t.data_a_carregar).locale("pt-br").format("LL"),"persistent-hint":!0},model:{value:t.data_a_carregar,callback:function(a){t.data_a_carregar=a},expression:"data_a_carregar"}},e))]}}]),model:{value:t.menu,callback:function(a){t.menu=a},expression:"menu"}},[s("v-date-picker",{ref:"picker",attrs:{outlined:"",dense:"",color:t.$primaria,locale:"pt-br",max:(new Date).toISOString().substr(0,10),min:"1950-01-01"},on:{change:t.save},model:{value:t.data_a_carregar,callback:function(a){t.data_a_carregar=a},expression:"data_a_carregar"}})],1),s("v-btn",{staticClass:"ml-2 mr-2",attrs:{large:"",color:t.$primaria},on:{click:t.getProntuarios}},[t._v("Buscar")])],1)]),t.dados.length>0&&!t.$vuetify.breakpoint.smAndDown?s("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",[s("v-icon",{attrs:{color:t.$primaria}},[t._v("ballot")])],1),s("th",[t._v("ORDEM")]),s("th",[t._v("PACIENTE")]),s("th",[t._v("DATA")]),s("th",[t._v("VISUALIZAR")]),t._e()])]),s("tbody",t._l(t.dados,(function(a){return s("tr",{key:a._id,staticClass:"animated fadeInUp"},[s("td",{staticStyle:{width:"20px"}},[s("v-icon",{attrs:{color:t.$primaria}},[t._v("ballot")])],1),s("td",{staticClass:"font-weight-bold fonteCorpo",staticStyle:{width:"20px"}},[t._v(t._s(a.ordem))]),s("td",{staticClass:"font-weight-bold fonteCorpo"},[t._v(t._s(a.ficha.nome))]),s("td",{staticClass:"font-weight-bold fonteCorpo"},[t._v(t._s(a.data)+" às "+t._s(a.hora))]),s("td",[s("v-btn",{staticClass:"text-lowercase",attrs:{outlined:"",color:t.$primaria},on:{click:function(e){return t.$router.push("/home/visualizar-ficha/"+a.ficha._id)}}},[t._v(" visualizar")])],1),t._e()])})),0)]},proxy:!0}],null,!1,4088730476)}):t._e(),0===t.dados.length?s("Empty"):t._e(),s("v-divider"),t.dados.length>0&&t.$vuetify.breakpoint.smAndDown?s("v-list",{staticClass:"pa-0 ma-0"},[t._l(t.dados,(function(a,e){return[s("v-list-item",{key:a._id,staticClass:"animated fadeInUp",on:{click:function(e){return t.$router.push("/home/visualizar-ficha/"+a.ficha._id)}}},[s("v-list-item-content",[s("v-list-item-title",{staticClass:"fonteCorpo",staticStyle:{color:"#444"}},[t._v(" "+t._s(a.ordem)+" - "+t._s(a.ficha.nome)+" ")]),s("v-list-item-subtitle",{staticClass:"fonteCorpo grey--text"},[t._v(" "+t._s(a.ficha.endereco)+" ")])],1),s("v-list-item-action",[s("v-icon",{attrs:{color:t.$primaria}},[t._v("keyboard_arrow_right")])],1)],1),s("v-divider",{key:e})]}))],2):t._e()],1),s("Confirm",{attrs:{open:t.confirm_dialog,action:function(){return a.remover(a.id_to_excluse,!0)},close:function(){return a.confirm_dialog=!1}}})],1)},qt=[],At={data(){return{pesquisa:"",options:[],dados:[],dadosbkp:[],confirm_dialog:!1,id_to_excluse:"",data_a_carregar:null}},watch:{pesquisa(a){this.pesquisar(a)},menu(a){a&&setTimeout(()=>this.$refs.picker.activePicker="YEAR")}},filters:{filterBlock(a){return 1===parseInt(a)?"bloqueado":"ativo"},filterSaldo(a){return parseFloat(a).toFixed(2)}},methods:{getProntuarios(){this.$store.dispatch("up_charging");const a={data_a_buscar:this.data_a_carregar,ubs_a_buscar:JSON.parse(sessionStorage.ubs_selecionada),ubs_a_buscar_id:JSON.parse(sessionStorage.ubs_selecionada)._id};this.$axios.post("/notificacoes",a).then(a=>{this.dados=a.data,this.dadosbkp=a.data,this.$store.dispatch("down_charging")}).catch(a=>{this.$store.dispatch("snackbar_info",a.message),this.$store.dispatch("down_charging")})},async remover(a,t){t?(await this.$del("ubs/"+a),this.get()):(this.confirm_dialog=!0,this.id_to_excluse=a)},pesquisar(a){const t=a;if(""===a)this.dados=this.dadosbkp;else{const a=this.dadosbkp;let e=[],s=t.toUpperCase();a.map(a=>{let t=a.nome.toUpperCase();t.match(s)&&e.push(a)}),this.dados=e}}},created(){this.$store.dispatch("up_charging"),this.data_a_carregar=this.$moment().format("YYYY-MM-DD");const a={data_a_buscar:this.$moment().format("YYYY-MM-DD"),ubs_a_buscar:JSON.parse(sessionStorage.ubs_selecionada),ubs_a_buscar_id:JSON.parse(sessionStorage.ubs_selecionada)._id};this.$axios.post("/notificacoes",a).then(a=>{this.dados=a.data,this.dadosbkp=a.data,this.$store.dispatch("down_charging")}).catch(a=>{this.$store.dispatch("down_charging"),this.$store.dispatch("snackbar_info",a.message)})}},Ot=At,Dt=e("2e4b"),Et=e("e449"),zt=Object(r["a"])(Ot,Vt,qt,!1,null,null,null),jt=zt.exports;l()(zt,{VBtn:C["a"],VDatePicker:Dt["a"],VDivider:N["a"],VFlex:w["a"],VIcon:y["a"],VList:T["a"],VListItem:F["a"],VListItemAction:L["a"],VListItemContent:P["a"],VListItemSubtitle:P["b"],VListItemTitle:P["c"],VMenu:Et["a"],VSimpleTable:la["a"],VTextField:V["a"]});var Nt={},Tt=Object(r["a"])(Nt,$t,wt,!1,null,null,null),Ft=Tt.exports;const Lt=[{path:"/home/criar-notificacao",component:It},{path:"/home/listar-notificacao",component:jt},{path:"/home/visualizar-notificacao/:id",component:Ft,props:!0}];var Pt,Mt,Rt,Bt,Ut={},Yt=Object(r["a"])(Ut,Pt,Mt,!1,null,null,null),Ht=Yt.exports,Jt=function(){var a=this,t=this,e=t.$createElement,s=t._self._c||e;return s("Molde",{attrs:{title:"Prontuários",options:t.options}},[s("div",{staticStyle:{"min-height":"90vh"}},[s("v-flex",{staticClass:"pa-2 pt-4",attrs:{xs12:"",md6:""}},[s("div",{staticClass:"expande-horizontal semquebra"},[s("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(a){var e=a.on;return[s("v-text-field",t._g({attrs:{outlined:"",dense:"",label:"DATA A BUSCAR","append-icon":"event",color:t.$primaria,readonly:"",hint:t.$moment(t.data_a_carregar).locale("pt-br").format("LL"),"persistent-hint":!0},model:{value:t.data_a_carregar,callback:function(a){t.data_a_carregar=a},expression:"data_a_carregar"}},e))]}}]),model:{value:t.menu,callback:function(a){t.menu=a},expression:"menu"}},[s("v-date-picker",{ref:"picker",attrs:{outlined:"",dense:"",color:t.$primaria,locale:"pt-br",max:(new Date).toISOString().substr(0,10),min:"1950-01-01"},on:{change:t.save},model:{value:t.data_a_carregar,callback:function(a){t.data_a_carregar=a},expression:"data_a_carregar"}})],1),s("v-btn",{staticClass:"ml-2 mr-2",attrs:{large:"",color:t.$primaria},on:{click:t.getProntuarios}},[t._v("Buscar")])],1)]),t.dados.length>0&&!t.$vuetify.breakpoint.smAndDown?s("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",[s("v-icon",{attrs:{color:t.$primaria}},[t._v("ballot")])],1),s("th",[t._v("ORDEM")]),s("th",[t._v("PACIENTE")]),s("th",[t._v("DATA")]),s("th",[t._v("VISUALIZAR")]),t._e()])]),s("tbody",t._l(t.dados,(function(a){return s("tr",{key:a._id,staticClass:"animated fadeInUp"},[s("td",{staticStyle:{width:"20px"}},[s("v-icon",{attrs:{color:t.$primaria}},[t._v("ballot")])],1),s("td",{staticClass:"font-weight-bold fonteCorpo",staticStyle:{width:"20px"}},[t._v(t._s(a.ordem))]),s("td",{staticClass:"font-weight-bold fonteCorpo"},[t._v(t._s(a.ficha.nome))]),s("td",{staticClass:"font-weight-bold fonteCorpo"},[t._v(t._s(a.data)+" às "+t._s(a.hora))]),s("td",[s("v-btn",{staticClass:"text-lowercase",attrs:{outlined:"",color:t.$primaria},on:{click:function(e){return t.$router.push("/home/visualizar-ficha/"+a.ficha._id)}}},[t._v(" visualizar")])],1),t._e()])})),0)]},proxy:!0}],null,!1,4088730476)}):t._e(),0===t.dados.length?s("Empty"):t._e(),s("v-divider"),t.dados.length>0&&t.$vuetify.breakpoint.smAndDown?s("v-list",{staticClass:"pa-0 ma-0"},[t._l(t.dados,(function(a,e){return[s("v-list-item",{key:a._id,staticClass:"animated fadeInUp",on:{click:function(e){return t.$router.push("/home/visualizar-ficha/"+a.ficha._id)}}},[s("v-list-item-content",[s("v-list-item-title",{staticClass:"fonteCorpo",staticStyle:{color:"#444"}},[t._v(" "+t._s(a.ordem)+" - "+t._s(a.ficha.nome)+" ")]),s("v-list-item-subtitle",{staticClass:"fonteCorpo grey--text"},[t._v(" "+t._s(a.ficha.endereco)+" ")])],1),s("v-list-item-action",[s("v-icon",{attrs:{color:t.$primaria}},[t._v("keyboard_arrow_right")])],1)],1),s("v-divider",{key:e})]}))],2):t._e()],1),s("Confirm",{attrs:{open:t.confirm_dialog,action:function(){return a.remover(a.id_to_excluse,!0)},close:function(){return a.confirm_dialog=!1}}})],1)},Gt=[],Xt={data(){return{pesquisa:"",options:[],dados:[],dadosbkp:[],confirm_dialog:!1,id_to_excluse:"",data_a_carregar:null}},watch:{pesquisa(a){this.pesquisar(a)},menu(a){a&&setTimeout(()=>this.$refs.picker.activePicker="YEAR")}},filters:{filterBlock(a){return 1===parseInt(a)?"bloqueado":"ativo"},filterSaldo(a){return parseFloat(a).toFixed(2)}},methods:{getProntuarios(){this.$store.dispatch("up_charging");const a={data_a_buscar:this.data_a_carregar,ubs_a_buscar:JSON.parse(sessionStorage.ubs_selecionada),ubs_a_buscar_id:JSON.parse(sessionStorage.ubs_selecionada)._id};this.$axios.post("/prontuarios",a).then(a=>{this.dados=a.data,this.dadosbkp=a.data,this.$store.dispatch("down_charging")}).catch(a=>{this.$store.dispatch("snackbar_info",a.message),this.$store.dispatch("down_charging")})},async remover(a,t){t?(await this.$del("ubs/"+a),this.get()):(this.confirm_dialog=!0,this.id_to_excluse=a)},pesquisar(a){const t=a;if(""===a)this.dados=this.dadosbkp;else{const a=this.dadosbkp;let e=[],s=t.toUpperCase();a.map(a=>{let t=a.nome.toUpperCase();t.match(s)&&e.push(a)}),this.dados=e}}},created(){this.$store.dispatch("up_charging"),this.data_a_carregar=this.$moment().format("YYYY-MM-DD");const a={data_a_buscar:this.$moment().format("YYYY-MM-DD"),ubs_a_buscar:JSON.parse(sessionStorage.ubs_selecionada),ubs_a_buscar_id:JSON.parse(sessionStorage.ubs_selecionada)._id};this.$axios.post("/prontuarios",a).then(a=>{this.dados=a.data,this.dadosbkp=a.data,this.$store.dispatch("down_charging")}).catch(a=>{this.$store.dispatch("down_charging"),this.$store.dispatch("snackbar_info",a.message)})}},Zt=Xt,Qt=Object(r["a"])(Zt,Jt,Gt,!1,null,null,null),Kt=Qt.exports;l()(Qt,{VBtn:C["a"],VDatePicker:Dt["a"],VDivider:N["a"],VFlex:w["a"],VIcon:y["a"],VList:T["a"],VListItem:F["a"],VListItemAction:L["a"],VListItemContent:P["a"],VListItemSubtitle:P["b"],VListItemTitle:P["c"],VMenu:Et["a"],VSimpleTable:la["a"],VTextField:V["a"]});var Wt={},ae=Object(r["a"])(Wt,Rt,Bt,!1,null,null,null),te=ae.exports;const ee=[{path:"/home/criar-prontuario",component:Ht},{path:"/home/listar-prontuario",component:Kt},{path:"/home/visualizar-prontuario/:id",component:te,props:!0}];var se=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("Molde",{attrs:{title:"Cadastro de Ubs",icon:"description",options:a.options}},[e("div",{staticClass:"expande-horizontal"},[e("v-flex",{staticClass:"pa-3 ",attrs:{xs12:""}},[e("v-form",{ref:"form"},[e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{rules:[function(a){return!!a||"Preencha este campo"}],color:a.$primaria,outlined:"",required:"",label:"Nome"},model:{value:a.dados.nome,callback:function(t){a.$set(a.dados,"nome",t)},expression:"dados.nome"}})],1),e("v-btn",{staticClass:"text-capitalize white--text ml-2",attrs:{color:"green"},on:{click:a.save}},[a._v(" Concluir "),e("v-icon",[a._v("check")])],1)],1)],1)],1)])],1)},oe=[],ie={directives:{mask:f["mask"]},data(){return{options:[{icon:"save",nome:"Concluir cadastro",action:()=>this.save()}],dados:{}}},methods:{async save(){this.$refs.form.validate()&&(await this.$create("ubs",this.dados),this.$router.go(-1))}}},re=ie,ne=Object(r["a"])(re,se,oe,!1,null,null,null),le=ne.exports;l()(ne,{VBtn:C["a"],VFlex:w["a"],VForm:ta["a"],VIcon:y["a"],VTextField:V["a"]});var ce=function(){var a=this,t=this,e=t.$createElement,s=t._self._c||e;return s("Molde",{attrs:{title:"Ubs",options:t.options}},[s("div",{staticStyle:{"min-height":"90vh"}},[s("v-flex",{staticClass:"pa-2",attrs:{xs12:""}},[s("v-text-field",{attrs:{hint:t.dados.length+" encontradas.",outlined:"",label:"Pesquise uma ubs",color:t.$primaria,"append-icon":"search"},model:{value:t.pesquisa,callback:function(a){t.pesquisa=a},expression:"pesquisa"}})],1),t.dados.length>0&&!t.$vuetify.breakpoint.smAndDown?s("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",[s("v-icon",{attrs:{color:t.$primaria}},[t._v("work")])],1),s("th",[t._v("NOME")]),s("th",[t._v("VISUALIZAR")]),s("th",[t._v("EXCLUIR")])])]),s("tbody",t._l(t.dados,(function(a){return s("tr",{key:a._id,staticClass:"animated fadeInUp"},[s("td",{staticStyle:{width:"20px"}},[s("v-icon",{attrs:{color:t.$primaria}},[t._v("work")])],1),s("td",{staticClass:"font-weight-bold fonteCorpo"},[t._v(t._s(a.nome))]),s("td",[s("v-btn",{staticClass:"text-lowercase",attrs:{outlined:"",color:t.$primaria},on:{click:function(e){return t.$router.push("/home/visualizar-ubs/"+a._id)}}},[t._v(" visualizar")])],1),s("td",[s("v-btn",{staticClass:"text-lowercase",attrs:{outlined:"",color:"red"},on:{click:function(e){return t.remover(a._id)}}},[t._v(" excluir")])],1)])})),0)]},proxy:!0}],null,!1,4193157821)}):t._e(),0===t.dados.length?s("Empty"):t._e(),s("v-divider"),t.dados.length>0&&t.$vuetify.breakpoint.smAndDown?s("v-list",{staticClass:"pa-0 ma-0"},[t._l(t.dados,(function(a,e){return[s("v-list-item",{key:a._id,staticClass:"animated fadeInUp",on:{click:function(e){return t.$router.push("/home/visualizar-ubs/"+a._id)}}},[s("v-list-item-content",[s("v-list-item-title",{staticClass:"fonteCorpo",staticStyle:{color:"#444"}},[s("v-icon",{attrs:{color:t.$primaria,size:"12"}},[t._v("person")]),t._v(" "+t._s(a.nome)+" ")],1),s("v-list-item-subtitle",{staticClass:"fonteCorpo grey--text"},[t._v(" login: "+t._s(a.endereco)+" ")])],1),s("v-list-item-action",[s("v-icon",{attrs:{color:t.$primaria}},[t._v("keyboard_arrow_right")])],1)],1),s("v-divider",{key:e})]}))],2):t._e()],1),s("Confirm",{attrs:{open:t.confirm_dialog,action:function(){return a.remover(a.id_to_excluse,!0)},close:function(){return a.confirm_dialog=!1}}})],1)},de=[],ue={data(){return{pesquisa:"",options:[{icon:"person_add",nome:"Cadastrar Ubs",action:()=>this.$router.push("/home/criar-ubs")}],dados:[],dadosbkp:[],confirm_dialog:!1,id_to_excluse:""}},watch:{pesquisa(a){this.pesquisar(a)}},filters:{filterBlock(a){return 1===parseInt(a)?"bloqueado":"ativo"},filterSaldo(a){return parseFloat(a).toFixed(2)}},methods:{async remover(a,t){t?(await this.$del("ubs/"+a),this.get()):(this.confirm_dialog=!0,this.id_to_excluse=a)},pesquisar(a){const t=a;if(""===a)this.dados=this.dadosbkp;else{const a=this.dadosbkp;let e=[],s=t.toUpperCase();a.map(a=>{let t=a.nome.toUpperCase();t.match(s)&&e.push(a)}),this.dados=e}},get(){this.$store.dispatch("up_charging"),this.$axios.get("/ubs").then(a=>{this.dados=a.data,this.dadosbkp=a.data,this.$store.dispatch("down_charging")}).catch(a=>{this.$store.dispatch("down_charging"),this.$store.dispatch("snackbar_info",a.response.data.message)})}},created(){this.get()}},me=ue,pe=Object(r["a"])(me,ce,de,!1,null,null,null),he=pe.exports;l()(pe,{VBtn:C["a"],VDivider:N["a"],VFlex:w["a"],VIcon:y["a"],VList:T["a"],VListItem:F["a"],VListItemAction:L["a"],VListItemContent:P["a"],VListItemSubtitle:P["b"],VListItemTitle:P["c"],VSimpleTable:la["a"],VTextField:V["a"]});var ve=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("Molde",{attrs:{title:"Visualizar Ubs",icon:"description",options:a.options}},[e("div",{staticClass:"expande-horizontal"},[e("v-flex",{staticClass:"pa-3 ",attrs:{xs12:""}},[e("v-form",{ref:"form"},[e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{rules:[function(a){return!!a||"Preencha este campo"}],color:a.$primaria,outlined:"",required:"",label:"Nome"},model:{value:a.dados.nome,callback:function(t){a.$set(a.dados,"nome",t)},expression:"dados.nome"}})],1),e("v-btn",{staticClass:"text-capitalize white--text ml-2",attrs:{color:"green"},on:{click:a.save}},[a._v(" Salvar "),e("v-icon",[a._v("check")])],1)],1)],1)],1)])],1)},fe=[],_e={props:["id"],directives:{mask:f["mask"]},data(){return{options:[{icon:"save",nome:"Salvar Alterações",action:()=>this.save()}],dados:{}}},methods:{async save(){this.$refs.form.validate()&&(await this.$create("ubs",this.dados),this.$router.go(-1))},async get(){this.dados=await this.$show("ubs/"+this.id)}},created(){this.get()}},be=_e,ge=Object(r["a"])(be,ve,fe,!1,null,null,null),xe=ge.exports;l()(ge,{VBtn:C["a"],VFlex:w["a"],VForm:ta["a"],VIcon:y["a"],VTextField:V["a"]});const Ce=[{path:"/home/criar-ubs",component:le},{path:"/home/listar-ubs",component:he},{path:"/home/visualizar-ubs/:id",component:xe,props:!0}];var ke,$e,we={},ye=Object(r["a"])(we,ke,$e,!1,null,null,null),Se=ye.exports,Ie=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("Molde",{attrs:{title:"Contratos",options:a.options}},[e("div",{staticStyle:{"min-height":"90vh"}},[e("v-flex",{staticClass:"pa-2",attrs:{xs12:""}},[e("v-text-field",{attrs:{hint:a.dados.length+" encontrados.",outlined:"",label:"Pesquise um usuário",color:a.$primaria,"append-icon":"search"},model:{value:a.pesquisa,callback:function(t){a.pesquisa=t},expression:"pesquisa"}})],1),a.dados.length>0&&!a.$vuetify.breakpoint.smAndDown?e("v-simple-table",{scopedSlots:a._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",[e("v-icon",{attrs:{color:a.$primaria}},[a._v("description")])],1),e("th",[a._v("CLIENTE")]),e("th",[a._v("AUTOR")]),e("th",[a._v("STATUS")]),e("th",[a._v("VALIDADE")]),e("th",[a._v("VISUALIZAR")])])]),e("tbody",a._l(a.dados,(function(t){return e("tr",{key:t._id},[e("td",{staticStyle:{width:"20px"}},[e("v-icon",{attrs:{color:a.$primaria}},[a._v("description")])],1),e("td",{staticClass:"font-weight-bold fonteCorpo"},[a._v(a._s(t.cliente.nome))]),e("td",{staticClass:"font-weight-bold fonteCorpo"},[a._v(a._s(t.responsavel.nome))]),e("td",{staticClass:"font-weight-bold fonteCorpo"},[a._v(a._s(t.status))]),e("td",{staticClass:"font-weight-bold fonteCorpo"},[a._v(a._s(t.garantia))]),e("td",[e("v-btn",{staticClass:"text-lowercase",attrs:{outlined:"",color:a.$primaria},on:{click:function(e){return a.$router.push("/cliente/visualizar-contrato/"+t._id)}}},[a._v(" visualizar")])],1)])})),0)]},proxy:!0}],null,!1,1928867882)}):a._e(),0===a.dados.length?e("Empty"):a._e(),e("v-divider"),a.dados.length>0&&a.$vuetify.breakpoint.smAndDown?e("v-list",{staticClass:"pa-0 ma-0"},[a._l(a.dados,(function(t,s){return[e("v-list-item",{key:t._id,on:{click:function(e){return a.$router.push("/cliente/visualizar-contrato/"+t._id)}}},[e("v-list-item-content",[e("v-list-item-title",{staticClass:"fonteCorpo",staticStyle:{color:"#444"}},[a._v(" "+a._s(t.cliente.nome)+" ")]),e("v-list-item-subtitle",{staticClass:"fonteCorpo grey--text"},[a._v(" responsável: "+a._s(t.responsavel.nome)+" ")]),e("v-list-item-subtitle",{staticClass:"fonteCorpo grey--text"},[a._v(" status: "+a._s(t.status)+" ")])],1),e("v-list-item-action",[e("v-icon",{attrs:{color:a.$primaria}},[a._v("keyboard_arrow_right")])],1)],1),e("v-divider",{key:s})]}))],2):a._e()],1)])},Ve=[],qe={data(){return{pesquisa:"",options:[],dados:[],dadosbkp:[]}},watch:{pesquisa(a){this.pesquisar(a)}},methods:{async get(){const a=await this.$list("contrato_cliente/"+this.$store.getters.user._id);this.dados=a,this.dadosbkp=a},pesquisar(a){const t=a;if(""===a)this.dados=this.dadosbkp;else{const a=this.dadosbkp;let e=[],s=t.toUpperCase();a.map(a=>{let t=a.cliente.nome.toUpperCase();t.match(s)&&e.push(a)}),this.dados=e}}},async created(){await this.get()}},Ae=qe,Oe=Object(r["a"])(Ae,Ie,Ve,!1,null,null,null),De=Oe.exports;l()(Oe,{VBtn:C["a"],VDivider:N["a"],VFlex:w["a"],VIcon:y["a"],VList:T["a"],VListItem:F["a"],VListItemAction:L["a"],VListItemContent:P["a"],VListItemSubtitle:P["b"],VListItemTitle:P["c"],VSimpleTable:la["a"],VTextField:V["a"]});var Ee=function(){var a=this,t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Molde",{attrs:{title:"Novo Contrato",icon:"description",options:t.options}},[s("v-tabs",{attrs:{color:t.$primaria},model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[s("v-tab",[t._v("Dados do contrato")]),s("v-tab",{on:{click:t.getDocs}},[t._v("Documentos")]),s("v-tab",{on:{click:t.getHomologacao}},[t._v("Homologação")])],1),s("v-divider"),s("v-tabs-items",{attrs:{color:t.$primaria},model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[s("v-tab-item",[s("div",{staticClass:"expande-horizontal"},[s("v-flex",{staticClass:"pa-3 ",attrs:{xs12:""}},[s("v-form",{ref:"form"},[s("div",{staticClass:"expande-horizontal semquebra"},[s("v-text-field",{staticClass:"mr-2 ml-2",attrs:{readonly:"",color:t.$primaria,outlined:"",required:"",label:"Cliente"},model:{value:t.dados.cliente.nome,callback:function(a){t.$set(t.dados.cliente,"nome",a)},expression:"dados.cliente.nome"}})],1),s("div",{staticClass:"expande-horizontal semquebra"},[s("v-text-field",{staticClass:"mr-2 ml-2",attrs:{readonly:"",color:t.$primaria,outlined:"",required:"",label:"Funcionário autor do contrato"},model:{value:t.dados.responsavel.nome,callback:function(a){t.$set(t.dados.responsavel,"nome",a)},expression:"dados.responsavel.nome"}})],1),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{staticClass:"mr-2 ml-2",attrs:{color:t.$primaria,outlined:"",required:"",label:"Endereço"},model:{value:t.dados.endereco,callback:function(a){t.$set(t.dados,"endereco",a)},expression:"dados.endereco"}})],1),s("div",{staticClass:"expande-horizontal semquebra"},[s("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:["##/##/####"],expression:"['##/##/####']"}],staticClass:"mr-2 ml-2",attrs:{color:t.$primaria,outlined:"",required:"",label:"Data do contrato"},model:{value:t.dados.data,callback:function(a){t.$set(t.dados,"data",a)},expression:"dados.data"}}),s("v-text-field",{staticClass:"mr-2 ml-2",attrs:{color:t.$primaria,outlined:"",required:"",label:"Contato do cliente"},model:{value:t.dados.contato,callback:function(a){t.$set(t.dados,"contato",a)},expression:"dados.contato"}})],1),s("div",{staticClass:"expande-horizontal semquebra"},[s("v-text-field",{staticClass:"mr-2 ml-2",attrs:{color:t.$primaria,outlined:"",required:"",label:"Valor total do contrato"},model:{value:t.dados.valor,callback:function(a){t.$set(t.dados,"valor",a)},expression:"dados.valor"}})],1),s("div",{staticClass:"expande-horizontal semquebra"},[s("v-text-field",{staticClass:"mr-2 ml-2",attrs:{hint:"ex: Débito",color:t.$primaria,outlined:"",required:"",label:"Método de pagamento"},model:{value:t.dados.metodo_pagamento,callback:function(a){t.$set(t.dados,"metodo_pagamento",a)},expression:"dados.metodo_pagamento"}})],1),s("div",{staticClass:"expande-horizontal semquebra"},[s("v-text-field",{staticClass:"mr-2 ml-2",attrs:{color:t.$primaria,outlined:"",required:"",label:"Anos garantia"},model:{value:t.dados.garantia,callback:function(a){t.$set(t.dados,"garantia",a)},expression:"dados.garantia"}})],1),s("div",{staticClass:"expande-horizontal semquebra"},[s("v-textarea",{staticClass:"mr-2 ml-2",attrs:{color:t.$primaria,outlined:"",required:"",label:"Descrição dos itens do contrato"},model:{value:t.dados.descricao,callback:function(a){t.$set(t.dados,"descricao",a)},expression:"dados.descricao"}})],1),s("v-btn",{staticClass:"text-capitalize white--text ml-2",attrs:{color:"green"},on:{click:t.save}},[t._v(" Atualizar "),s("v-icon",[t._v("check")])],1)],1)],1)],1)]),s("v-tab-item",[s("v-flex",{attrs:{xs12:""}},[t.documento.length>0?s("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",[s("v-icon",{attrs:{color:t.$primaria}},[t._v("receipt")])],1),s("th",[t._v("Data")]),s("th",[t._v("Link")]),s("th",[t._v("Excluir")])])]),s("tbody",t._l(t.documento,(function(a,e){return s("tr",{key:e},[s("td",{staticStyle:{width:"20px"}},[s("v-icon",{attrs:{color:t.$primaria}},[t._v("receipt")])],1),s("td",{staticClass:"font-weight-bold fonteCorpo"},[t._v(t._s(a.documento))]),s("td",{staticClass:"font-weight-bold fonteCorpo"},[s("a",{attrs:{href:a.url,target:"_blank"}},[t._v(" Ver ")])]),s("td",{staticClass:"font-weight-bold fonteCorpo"},[s("a",{on:{click:function(e){return t.removeDoc(a._id)}}},[t._v(" Excluir ")])])])})),0)]},proxy:!0}],null,!1,4248850916)}):s("Empty")],1)],1),s("v-tab-item",{staticClass:"pa-4"},[s("v-timeline",t._l(t.homologacao,(function(a){return s("v-timeline-item",{directives:[{name:"show",rawName:"v-show",value:a.cliente,expression:"item.cliente"}],key:a._id,attrs:{icon:"check",color:t.$primaria}},[s("v-card",{attrs:{color:"grey lighten-4",hover:""}},[s("v-card-title",[s("div",{staticClass:"expande-horizontal centraliza"},[s("h5",{staticClass:"text-center"},[t._v(t._s(t.$moment(a.created_at).locale("pt-br").format("LLLL")))])])]),s("v-divider"),s("v-card-text",{staticStyle:{"min-height":"100px"}},[s("h3",{staticClass:"fonteCorpo"},[t._v(" Andamento: "+t._s(a.documento)+" ")])]),s("v-divider")],1)],1)})),1)],1)],1)],1),s("AddDocumento",{attrs:{abrir:t.add_documento,fechar:function(){return a.add_documento=!1},id:this.id}}),s("AddHomologacaoEmpresa",{attrs:{abrir:t.add_homologacao_empresa,fechar:function(){a.add_homologacao_empresa=!1,a.getHomologacao()},id:this.id}})],1)},ze=[],je=function(){var a=this,t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{width:"800",transition:"slide-x-transition","elevation-0":"",persistent:""},model:{value:t.abrir,callback:function(a){t.abrir=a},expression:"abrir"}},[s("Molde",{attrs:{title:"Anexar Documento",options:t.options,icon:"arrow_back",action:function(){return a.fechar()}}},[s("div",{staticClass:"pa-1"},[s("v-form",{ref:"form"},t._l(t.documentos,(function(a,e){return s("div",{key:e,staticClass:"animated flixInX expande-horizontal semquebra"},[s("v-flex",{staticClass:"pa-1",attrs:{xs8:""}},[s("v-text-field",{ref:"documento",refInFor:!0,attrs:{clearable:"",rules:[function(a){return!!a||"Preencha este campo primeiro"}],hint:"ex: Descrição do documento",label:"Nome do documento",outlined:"",color:t.$primaria},model:{value:t.documento,callback:function(a){t.documento=a},expression:"documento"}})],1),s("v-flex",{staticClass:"pa-1",attrs:{xs4:""}},[s("input",{attrs:{type:"file"},on:{change:t.uploadArquivo}})])],1)})),0),s("div",{staticClass:"pb-3 expande-horizontal centraliza"},[s("v-btn",{staticClass:"mr-4 white--text",attrs:{small:"",color:t.$primaria,rounded:""},on:{click:t.addNovoDocumento}},[t._v("\n          Adicionar outro documento\n          "),s("v-icon",[t._v("add")])],1),s("v-btn",{staticClass:"white--text",attrs:{small:"",rounded:"",color:"green"}},[t._v("\n          Já terminei, enviar\n          "),s("v-icon",[t._v("check")])],1)],1)],1)])],1)},Ne=[],Te=e("59ca"),Fe=e.n(Te);e("588e"),e("66ce");const Le={apiKey:"AIzaSyAA1Y3WXe-rwyWSz-TNV98VwvnRuDv6F3g",authDomain:"semsa-ap.firebaseapp.com",databaseURL:"https://semsa-ap.firebaseio.com",projectId:"semsa-ap",storageBucket:"semsa-ap.appspot.com",messagingSenderId:"937555889244",appId:"1:937555889244:web:c8f029282136e12f472a99",measurementId:"G-MGK5NFMXZ6"},Pe=Fe.a.initializeApp(Le),Me=Fe.a.database.ServerValue.TIMESTAMP,Re=Pe.storage(),Be=Pe.database();var Ue={props:["id","abrir","fechar"],directives:{mask:f["mask"]},data(){return{documentos:[{documento:"",url:"",status:""}],options:[{icon:"send",nome:"Enviar documentos",action:()=>{}}]}},methods:{uploadArquivo(a){this.$store.dispatch("up_charging"),a.stopPropagation(),a.preventDefault();var t=a.target.files[0],e={contentType:t.type};const s=this;Re.ref("images").child(t.name).put(t,e).then((function(a){console.log("Uploaded",a.totalBytes,"bytes."),console.log("File metadata:",a.metadata),a.ref.getDownloadURL().then((function(a){s.url=a,s.enviarDocumento()}))})).catch((function(a){console.error("Upload failed:",a)}))},enviarDocumento(){if(this.$refs.form.validate()){const a={url:this.url,documento:this.documento,contrato_id:this.id};this.$axios.post("/contrato_documento",a).then(()=>{this.$store.dispatch("down_charging"),this.$store.dispatch("snackbar_success","O documento foi enviado e o formulário limpo para o envio de um novo documendo, ao terminar o envio de documentos, clique em fechar."),this.documento="",this.url=""}).catch(()=>{this.$store.dispatch("down_charging"),this.$store.dispatch("snackbar_error","Erro, tente novamente"),this.$store.dispatch("fecha_pagamento")})}},addNovoDocumento(){this.documentos.push({documento:"",url:"",status:""})}}},Ye=Ue,He=Object(r["a"])(Ye,je,Ne,!1,null,null,null),Je=He.exports;l()(He,{VBtn:C["a"],VDialog:$["a"],VFlex:w["a"],VForm:ta["a"],VIcon:y["a"],VTextField:V["a"]});var Ge=function(){var a=this,t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{width:"800",transition:"slide-x-transition","elevation-0":"",persistent:""},model:{value:t.abrir,callback:function(a){t.abrir=a},expression:"abrir"}},[s("Molde",{attrs:{title:"Andamento de Homologação",options:t.options,icon:"arrow_back",action:function(){return a.fechar()}}},[s("div",{staticClass:"pa-1"},[s("v-form",{ref:"form"},[s("div",{staticClass:"animated flixInX expande-horizontal semquebra"},[s("v-flex",{staticClass:"pa-1",attrs:{xs8:""}},[s("v-textarea",{ref:"documento",attrs:{clearable:"",rules:[function(a){return!!a||"Preencha este campo primeiro"}],label:"Parecer sobre ",outlined:"",color:t.$primaria},model:{value:t.dados.documento,callback:function(a){t.$set(t.dados,"documento",a)},expression:"dados.documento"}})],1),s("v-flex",{attrs:{xs4:""}},[s("v-switch",{attrs:{outlined:"",color:t.$primaria,label:"Ative aqui caso deseje que essa atualização fique visível para o cliente"},model:{value:t.dados.cliente,callback:function(a){t.$set(t.dados,"cliente",a)},expression:"dados.cliente"}})],1)],1)]),s("div",{staticClass:"pb-3 expande-horizontal centraliza"},[s("v-btn",{staticClass:"white--text",attrs:{small:"",rounded:"",color:"green"},on:{click:t.enviarDocumento}},[t._v("\n          Concluir andamento\n          "),s("v-icon",[t._v("check")])],1)],1)],1)])],1)},Xe=[],Ze={props:["id","abrir","fechar"],directives:{mask:f["mask"]},data(){return{dados:{documento:"",url:"",status:"",cliente:!1},options:[{icon:"check",nome:"Concluir",action:()=>{}}]}},methods:{uploadArquivo(a){this.$store.dispatch("up_charging"),a.stopPropagation(),a.preventDefault();var t=a.target.files[0],e={contentType:t.type};const s=this;Re.ref("images").child(t.name).put(t,e).then((function(a){console.log("Uploaded",a.totalBytes,"bytes."),console.log("File metadata:",a.metadata),a.ref.getDownloadURL().then((function(a){s.url=a,s.enviarDocumento()}))})).catch((function(a){console.error("Upload failed:",a)}))},enviarDocumento(){if(this.$refs.form.validate()){const a={url:this.dados.url,documento:this.dados.documento,contrato_id:this.id,cliente:this.dados.cliente};this.$axios.post("/contrato_homo_empresa",a).then(()=>{this.$store.dispatch("down_charging"),this.$store.dispatch("snackbar_success","Homologação atualizada"),this.fechar(),this.documento="",this.url=""}).catch(()=>{this.$store.dispatch("down_charging"),this.$store.dispatch("snackbar_error","Erro, tente novamente"),this.$store.dispatch("fecha_pagamento")})}},addNovoDocumento(){this.documentos.push({documento:"",url:"",status:""})}}},Qe=Ze,Ke=Object(r["a"])(Qe,Ge,Xe,!1,null,null,null),We=Ke.exports;l()(Ke,{VBtn:C["a"],VDialog:$["a"],VFlex:w["a"],VForm:ta["a"],VIcon:y["a"],VSwitch:Ea["a"],VTextarea:$a["a"]});var as={props:["id"],components:{AddDocumento:Je,AddHomologacaoEmpresa:We},directives:{mask:f["mask"]},data(){return{tab:0,add_documento:!1,add_homologacao_empresa:!1,options:[],dados:{},documento:[],cliente_selecionado:"",funcionario:"",responsavel:"",homologacao:[]}},methods:{async save(){this.$refs.form.validate()&&await this.$update("contrato/"+this.id,this.dados)},async getDocs(){this.documento=await this.$list("contrato_documento/"+this.id)},async removeDoc(a){await this.$del("contrato_documento/"+a),await this.getDocs()},async getHomologacao(){this.homologacao=await this.$list("contrato_homo_empresa/"+this.id)},async salvaHomologacao(a){await this.$update("contrato_homo_empresa/"+a._id,a)}},async created(){this.dados=await this.$show("contrato/"+this.id)}},ts=as,es=e("8414"),ss=e("1e06"),os=Object(r["a"])(ts,Ee,ze,!1,null,null,null),is=os.exports;l()(os,{VBtn:C["a"],VCard:k["a"],VCardText:ht["a"],VCardTitle:ht["b"],VDivider:N["a"],VFlex:w["a"],VForm:ta["a"],VIcon:y["a"],VSimpleTable:la["a"],VTab:tt["a"],VTabItem:et["a"],VTabs:st["a"],VTabsItems:ot["a"],VTextField:V["a"],VTextarea:$a["a"],VTimeline:es["a"],VTimelineItem:ss["a"]});const rs=[{path:"/cliente/criar-contrato",component:Se},{path:"/cliente/listar-contrato",component:De},{path:"/cliente/visualizar-contrato/:id",component:is,props:!0}];var ns,ls,cs={},ds=Object(r["a"])(cs,ns,ls,!1,null,null,null),us=ds.exports,ms=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("Molde",{attrs:{title:"Ordem de Serviço",options:a.options}},[e("div",{staticStyle:{"min-height":"90vh"}},[e("v-flex",{staticClass:"pa-2",attrs:{xs12:""}},[e("v-text-field",{attrs:{hint:a.dados.length+" encontrados.",outlined:"",label:"Pesquise um nome",color:a.$primaria,"append-icon":"search"},model:{value:a.pesquisa,callback:function(t){a.pesquisa=t},expression:"pesquisa"}})],1),a.dados.length>0&&!a.$vuetify.breakpoint.smAndDown?e("v-simple-table",{scopedSlots:a._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",[e("v-icon",{attrs:{color:a.$primaria}},[a._v("work")])],1),e("th",[a._v("CLIENTE")]),e("th",[a._v("RESPONSÁVEL TÉCNICO")]),e("th",[a._v("DATA")]),e("th",[a._v("HORA")]),e("th",[a._v("STATUS")]),e("th",[a._v("VISUALIZAR")])])]),e("tbody",a._l(a.dados,(function(t){return e("tr",{key:t._id},[e("td",{staticStyle:{width:"20px"}},[e("v-icon",{attrs:{color:a.$primaria}},[a._v("work")])],1),e("td",{staticClass:"font-weight-bold fonteCorpo"},[a._v(a._s(t.cliente.nome))]),e("td",{staticClass:"font-weight-bold fonteCorpo"},[a._v(a._s(t.responsavel.nome))]),e("td",{staticClass:"font-weight-bold fonteCorpo"},[a._v(a._s(t.data))]),e("td",{staticClass:"font-weight-bold fonteCorpo"},[a._v(a._s(t.hora))]),e("td",{staticClass:"font-weight-bold fonteCorpo"},[a._v(a._s(t.status))]),e("td",[e("v-btn",{staticClass:"text-lowercase",attrs:{outlined:"",color:a.$primaria},on:{click:function(e){return a.$router.push("/cliente/visualizar-ordem/"+t._id)}}},[a._v(" visualizar")])],1)])})),0)]},proxy:!0}],null,!1,1981597849)}):a._e(),0===a.dados.length?e("Empty"):a._e(),e("v-divider"),a.dados.length>0&&a.$vuetify.breakpoint.smAndDown?e("v-list",{staticClass:"pa-0 ma-0"},[a._l(a.dados,(function(t,s){return[e("v-list-item",{key:t._id,on:{click:function(e){return a.$router.push("/cliente/visualizar-ordem/"+t._id)}}},[e("v-list-item-content",[e("v-list-item-title",{staticClass:"fonteCorpo",staticStyle:{color:"#444"}},[e("v-icon",{attrs:{color:a.$primaria,size:"12"}},[a._v("person")]),a._v(" "+a._s(t.cliente.nome)+" ")],1),e("v-list-item-subtitle",{staticClass:"fonteCorpo grey--text"},[a._v(" responsável: "+a._s(t.responsavel.nome)+" ")]),e("v-list-item-subtitle",{staticClass:"fonteCorpo grey--text"},[a._v(" status: "+a._s(t.status)+" ")])],1),e("v-list-item-action",[e("v-icon",{attrs:{color:a.$primaria}},[a._v("keyboard_arrow_right")])],1)],1),e("v-divider",{key:s})]}))],2):a._e()],1)])},ps=[],hs={data(){return{pesquisa:"",options:[],dados:[],dadosbkp:[]}},watch:{pesquisa(a){this.pesquisar(a)}},methods:{async get(){const a=await this.$list("ordem/cliente/"+this.$store.getters.user._id);this.dados=a,this.dadosbkp=a},async remover(a,t){await this.$del("ordem/"+a),this.$db.ref("/locations/"+t).remove(),await this.get()},pesquisar(a){const t=a;if(""===a)this.dados=this.dadosbkp;else{const a=this.dadosbkp;let e=[],s=t.toUpperCase();a.map(a=>{let t=a.cliente.nome.toUpperCase();t.match(s)&&e.push(a)}),this.dados=e}}},async created(){await this.get()}},vs=hs,fs=Object(r["a"])(vs,ms,ps,!1,null,null,null),_s=fs.exports;l()(fs,{VBtn:C["a"],VDivider:N["a"],VFlex:w["a"],VIcon:y["a"],VList:T["a"],VListItem:F["a"],VListItemAction:L["a"],VListItemContent:P["a"],VListItemSubtitle:P["b"],VListItemTitle:P["c"],VSimpleTable:la["a"],VTextField:V["a"]});var bs=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("Molde",{attrs:{title:"Visualizar O.S.",icon:"description",options:a.options}},[e("div",{staticClass:"expande-horizontal"},[e("v-flex",{staticClass:"pa-3 ",attrs:{xs12:""}},[e("v-form",{ref:"form"},[e("div",{staticClass:"expande-horizontal semquebra"},[e("v-autocomplete",{staticClass:"mr-2 ml-2",attrs:{readonly:"",color:a.$primaria,outlined:"",items:a.cliente,label:"Cliente","return-object":"",placeholder:"ex: Michel","item-text":"nome"},model:{value:a.cliente_selecionado,callback:function(t){a.cliente_selecionado=t},expression:"cliente_selecionado"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-autocomplete",{staticClass:"mr-2 ml-2",attrs:{readonly:"",color:a.$primaria,outlined:"",items:a.funcionario,label:"Funcionário responsável por executar a ordem","return-object":"",placeholder:"ex: Ricardo","item-text":"nome"},model:{value:a.responsavel,callback:function(t){a.responsavel=t},expression:"responsavel"}})],1),e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{readonly:"",color:a.$primaria,outlined:"",required:"",label:"Endereço"},model:{value:a.dados.endereco,callback:function(t){a.$set(a.dados,"endereco",t)},expression:"dados.endereco"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:a._u([{key:"activator",fn:function(t){var s=t.on;return[e("v-text-field",a._g({staticClass:"ml-2 mr-2",attrs:{outlined:"",color:a.$primaria,label:"Data","append-icon":"event",readonly:""},model:{value:a.computedDateFormatted,callback:function(t){a.computedDateFormatted=t},expression:"computedDateFormatted"}},s))]}}]),model:{value:a.menu,callback:function(t){a.menu=t},expression:"menu"}},[e("v-date-picker",{attrs:{readonly:"",locale:"pt-br","no-title":""},on:{input:function(t){a.menu=!1}},model:{value:a.date,callback:function(t){a.date=t},expression:"date"}})],1),e("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:["##:##"],expression:"['##:##']"}],staticClass:"mr-2 ml-2",attrs:{readonly:"",color:a.$primaria,outlined:"",required:"",label:"Hora"},model:{value:a.dados.hora,callback:function(t){a.$set(a.dados,"hora",t)},expression:"dados.hora"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{readonly:"",color:a.$primaria,outlined:"",required:"",label:"Obs"},model:{value:a.dados.contato,callback:function(t){a.$set(a.dados,"contato",t)},expression:"dados.contato"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"Quantidade de módulos"},model:{value:a.dados.modulos,callback:function(t){a.$set(a.dados,"modulos",t)},expression:"dados.modulos"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"Marca/Modelo"},model:{value:a.dados.marca,callback:function(t){a.$set(a.dados,"marca",t)},expression:"dados.marca"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"Inversores"},model:{value:a.dados.inversores,callback:function(t){a.$set(a.dados,"inversores",t)},expression:"dados.inversores"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"String Box"},model:{value:a.dados.stringbox,callback:function(t){a.$set(a.dados,"stringbox",t)},expression:"dados.stringbox"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"Mppt's"},model:{value:a.dados.mppts,callback:function(t){a.$set(a.dados,"mppts",t)},expression:"dados.mppts"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"Telhado"},model:{value:a.dados.telhado,callback:function(t){a.$set(a.dados,"telhado",t)},expression:"dados.telhado"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"Arranjos"},model:{value:a.dados.arranjos,callback:function(t){a.$set(a.dados,"arranjos",t)},expression:"dados.arranjos"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"Cabeamento"},model:{value:a.dados.cabeamento,callback:function(t){a.$set(a.dados,"cabeamento",t)},expression:"dados.cabeamento"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"Disjuntor"},model:{value:a.dados.disjuntor,callback:function(t){a.$set(a.dados,"disjuntor",t)},expression:"dados.disjuntor"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"Canaleta"},model:{value:a.dados.canaleta,callback:function(t){a.$set(a.dados,"canaleta",t)},expression:"dados.canaleta"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"Eletroduto"},model:{value:a.dados.eletroduto,callback:function(t){a.$set(a.dados,"eletroduto",t)},expression:"dados.eletroduto"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"Haste Terra"},model:{value:a.dados.haste_terra,callback:function(t){a.$set(a.dados,"haste_terra",t)},expression:"dados.haste_terra"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"Inclinação"},model:{value:a.dados.inclinacao,callback:function(t){a.$set(a.dados,"inclinacao",t)},expression:"dados.inclinacao"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"Localização"},model:{value:a.dados.localizacao,callback:function(t){a.$set(a.dados,"localizacao",t)},expression:"dados.localizacao"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"Condutor"},model:{value:a.dados.condutor,callback:function(t){a.$set(a.dados,"condutor",t)},expression:"dados.condutor"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"Compras"},model:{value:a.dados.compras,callback:function(t){a.$set(a.dados,"compras",t)},expression:"dados.compras"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"Saída"},model:{value:a.dados.saida,callback:function(t){a.$set(a.dados,"saida",t)},expression:"dados.saida"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"Chegada"},model:{value:a.dados.chegada,callback:function(t){a.$set(a.dados,"chegada",t)},expression:"dados.chegada"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"KM saída adtina"},model:{value:a.dados.km_saida_adtina,callback:function(t){a.$set(a.dados,"km_saida_adtina",t)},expression:"dados.km_saida_adtina"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"KM saída cliente"},model:{value:a.dados.km_saida_cliente,callback:function(t){a.$set(a.dados,"km_saida_cliente",t)},expression:"dados.km_saida_cliente"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"KM chegada adtina"},model:{value:a.dados.km_chegada_adtina,callback:function(t){a.$set(a.dados,"km_chegada_adtina",t)},expression:"dados.km_chegada_adtina"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"KM chegada cliente"},model:{value:a.dados.km_chegada_cliente,callback:function(t){a.$set(a.dados,"km_chegada_cliente",t)},expression:"dados.km_chegada_cliente"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"Horário saída adtina"},model:{value:a.dados.horario_saida_adtina,callback:function(t){a.$set(a.dados,"horario_saida_adtina",t)},expression:"dados.horario_saida_adtina"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"Horário saída cliente"},model:{value:a.dados.horario_saida_cliente,callback:function(t){a.$set(a.dados,"horario_saida_cliente",t)},expression:"dados.horario_saida_cliente"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"Horário chegada adtina"},model:{value:a.dados.horario_chegada_adtina,callback:function(t){a.$set(a.dados,"horario_chegada_adtina",t)},expression:"dados.horario_chegada_adtina"}}),e("v-text-field",{staticClass:"mr-2 ml-2",attrs:{dense:"",color:a.$primaria,outlined:"",required:"",label:"Horário chegada cliente"},model:{value:a.dados.horario_chegada_cliente,callback:function(t){a.$set(a.dados,"horario_chegada_cliente",t)},expression:"dados.horario_chegada_cliente"}})],1),e("div",{staticClass:"expande-horizontal semquebra"},[e("v-textarea",{staticClass:"mr-2 ml-2",attrs:{color:a.$primaria,outlined:"",required:"",label:"Ajudantes"},model:{value:a.dados.ajudantes,callback:function(t){a.$set(a.dados,"ajudantes",t)},expression:"dados.ajudantes"}})],1)],1)],1)],1)])],1)},gs=[],xs={props:["id"],directives:{mask:f["mask"]},data(){return{dialogo_de_encerramento:!1,tab:0,options:[],ordem_material:[],ordem_equipamento:[],ordem_carro:[],ordem_funcionario:[],dados:{data:this.formatDate((new Date).toISOString().substr(0,10))},cliente:[],cliente_selecionado:"",funcionario:[],materiais_utilizados:[],carros_utilizados:[],responsavel:{},date:(new Date).toISOString().substr(0,10),menu:!1}},computed:{computedDateFormatted(){return this.formatDate(this.date)}},watch:{cliente_selecionado(a){this.dados.cliente=a,this.dados.cliente_id=a._id},responsavel(a){this.dados.responsavel=a,this.dados.responsavel_id=a._id},date(a){this.dados.data=this.formatDate(this.date)}},methods:{async antesDeEncerrar(){this.materiais_utilizados=await this.$list("ordem_material/"+this.id),this.carros_utilizados=await this.$list("ordem_carro/"+this.id),this.dialogo_de_encerramento=!0},dogLocation(){setInterval(()=>{"em andamento"===this.dados.status&&this.getPosition()},1e4)},async encerraOrdem(){if(this.$refs.form.validate()){await this.$update("ordem/"+this.id,{status:"encerrada",hora_encerramento:this.$moment().format("DD/MM/YYYY [às] HH:mm")}),this.materiais_utilizados.map(async a=>{await this.$update("ordem_material/"+a._id,{quantidade_utilizada:a.quantidade_utilizada})}),this.carros_utilizados.map(async a=>{await this.$update("carro/"+a.carro._id,{quilometragem_atual:a.quilometragem_atual})});const a=this;a.$db.ref("notifications").push({usuario:a.$store.getters.user,dados:a.dados,message:`${a.$store.getters.user.nome} -> Ordem encerrada -> ${a.$moment().format("DD/MM/YYYY [às] HH:mm")}`}),await this.$update("ordem_material/"+this.id,{status:"encerrada",hora_encerramento:this.$moment().format("DD/MM/YYYY [às] HH:mm")}),this.$db.ref("/locations/"+a.$store.getters.user._id).remove().then(()=>console.log("sucesso")).catch(a=>console.log("erro",a)),location.reload()}},async ordemEmAndamento(){await this.$update("ordem/"+this.id,{status:"em andamento",hora_inicio:this.$moment().format("DD/MM/YYYY [às] HH:mm")});const a=this;a.$db.ref("notifications").push({usuario:a.$store.getters.user,dados:a.dados,message:`${a.$store.getters.user.nome} -> Ordem em andamento -> ${a.$moment().format("DD/MM/YYYY [às] HH:mm")}`}),this.dogLocation(),this.$router.go(-1)},async pausaOrdem(){await this.$update("ordem/"+this.id,{status:"pausado"});const a=this;a.$db.ref("notifications").push({usuario:a.$store.getters.user,dados:a.dados,message:`${a.$store.getters.user.nome} -> Ordem em pausa -> ${a.$moment().format("DD/MM/YYYY [às] HH:mm")}`}),this.$router.go(-1)},async get(a,t){this[""+a]=await this.$list(`${a}/${t}`)},async save(){this.$refs.form.validate()&&(await this.$update("ordem/"+this.id,this.dados),this.$router.go(-1))},formatDate(a){if(!a)return null;const[t,e,s]=a.split("-");return`${s}/${e}/${t}`},getPosition(){const a=this;navigator.geolocation?navigator.geolocation.getCurrentPosition(a.showPosition,a.showError,{timeout:3e4,enableHighAccuracy:!0,maximumAge:75e3}):this.$store.dispatch("snackbar_info","Este browser não tem suporte a geolocalização ou o gps está desligado.")},showPosition(a){const t=this;t.$db.ref("/locations/"+t.$store.getters.user._id).set({coordinates:[a.coords.longitude,a.coords.latitude],usuario:t.$store.getters.user,dados:t.dados})},showError(a){const t=this;t.$store.dispatch("snackbar_info",a.message)}},async created(){const a=await this.$show("ordem/"+this.id);this.dados=a,this.cliente=await this.$list("cliente"),this.funcionario=await this.$list("funcionario"),this.cliente_selecionado=a.cliente,this.responsavel=a.responsavel,this.dogLocation()}},Cs=xs,ks=e("c6a6"),$s=Object(r["a"])(Cs,bs,gs,!1,null,null,null),ws=$s.exports;l()($s,{VAutocomplete:ks["a"],VDatePicker:Dt["a"],VFlex:w["a"],VForm:ta["a"],VMenu:Et["a"],VTextField:V["a"],VTextarea:$a["a"]});const ys=[{path:"/cliente/criar-ordem",component:us},{path:"/cliente/listar-ordem",component:_s},{path:"/cliente/visualizar-ordem/:id",component:ws,props:!0}];s["a"].use(p["a"]);var Ss=new p["a"]({routes:[{path:"/",name:"login",component:A},{path:"/home",name:"home",component:U,children:[..._a,...nt,...xt,...Lt,...ee,...Ce]},{path:"/cliente",name:"cliente home",component:Z,children:[...rs,...ys]}]}),Is=e("2f62");const Vs={snackbar_error:{mostrar:!1,mensagem:""},snackbar_success:{mostrar:!1,mensagem:""},snackbar_warning:{mostrar:!1,mensagem:""},snackbar_info:{mostrar:!1,mensagem:""},charging:{mostrar:!1},drawer:!0};const qs={desativa_snackbar(a){a.commit("desativa_snackbar")},snackbar_error(a,t){a.commit("snackbar_error",t)},snackbar_success(a,t){a.commit("snackbar_success",t)},snackbar_warning(a,t){a.commit("snackbar_warning",t)},snackbar_info(a,t){a.commit("snackbar_info",t)},up_charging(a){a.commit("up_charging")},down_charging(a){a.commit("down_charging")},drawer(a,t){a.commit("drawer",t)}};const As={desativa_snackbar(a){a.snackbar_success={mostrar:!1,mensagem:""},a.snackbar_error={mostrar:!1,mensagem:""},a.snackbar_warning={mostrar:!1,mensagem:""},a.snackbar_info={mostrar:!1,mensagem:""}},snackbar_error(a,t){a.snackbar_error={mostrar:!0,mensagem:t}},snackbar_success(a,t){a.snackbar_success={mostrar:!0,mensagem:t}},snackbar_warning(a,t){a.snackbar_warning={mostrar:!0,mensagem:t}},snackbar_info(a,t){a.snackbar_info={mostrar:!0,mensagem:t}},up_charging(a){!1===a.charging.mostrar&&(a.charging.mostrar=!0)},down_charging(a){!0===a.charging.mostrar&&(a.charging.mostrar=!1)},up_drawer(a){!1===a.drawer?a.drawer=!0:(a.drawer=!1,setTimeout(()=>a.drawer=!0,200))}};const Os={snackbar_success(a){return a.snackbar_success},snackbar_error(a){return a.snackbar_error},snackbar_warning(a){return a.snackbar_warning},snackbar_info(a){return a.snackbar_info},charging(a){return a.charging.mostrar},drawer(a){return a.drawer}};var Ds={state:Vs,actions:qs,mutations:As,getters:Os};const Es={user:void 0!==sessionStorage.perfil?JSON.parse(sessionStorage.perfil).user:null,token:void 0!==sessionStorage.perfil?JSON.parse(sessionStorage.perfil).token:null};const zs={};const js={};const Ns={user(a){return a.user},token(a){return a.token}};var Ts={state:Es,actions:zs,mutations:js,getters:Ns};const Fs={pagamento:{mostrar:!1}};const Ls={abre_pagamento({commit:a}){a("abre_pagamento")},fecha_pagamento({commit:a}){a("fecha_pagamento")}};var Ps=e("bc3a"),Ms=e.n(Ps);const Rs={abre_pagamento(a){a.pagamento.mostrar=!0},fecha_pagamento(a){a.pagamento.mostrar=!1}};const Bs={pagamento(a){return a.pagamento},mostrar(a){return a.pagamento.mostrar}};s["a"].use(Is["a"]);var Us=new Is["a"].Store({modules:{notifications:{state:{...Ds.state},actions:{...Ds.actions},mutations:{...Ds.mutations},getters:{...Ds.getters}},user:{state:{...Ts.state},actions:{...Ts.actions},mutations:{...Ts.mutations},getters:{...Ts.getters}},pagamento:{state:{...Fs},actions:{...Ls},mutations:{...Rs},getters:{...Bs}}}}),Ys=e("9483");Object(Ys["a"])("service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(a){console.error("Error during service worker registration:",a)}});var Hs=e("f309");s["a"].use(Hs["a"]);var Js=new Hs["a"]({icons:{iconfont:"mdi"}}),Gs=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-container",{staticClass:"molde pa-0 ma-0",staticStyle:{"flex-direction":"column",background:"rgba(0,0,0,0)"},attrs:{fluid:""}},[e("v-layout",{attrs:{column:""}},[e("v-card",{staticClass:"pa-0 ma-0",attrs:{elevation:(a.$vuetify.breakpoint.smAndDown,"0")}},[e("v-app-bar",{staticClass:"elevation-2",staticStyle:{"justify-content":"center","align-items":"center"},style:a.$vuetify.breakpoint.smAndDown?"margin-bottom: 0px; border-radius: 0px":"border-radius: 0px;margin-bottom: 0px",attrs:{fixed:a.$vuetify.breakpoint.smAndDown,color:(a.$vuetify.breakpoint.smAndDown,"white")}},[void 0===this.icon?e("v-btn",{attrs:{icon:""},on:{click:function(t){return a.$store.commit("up_drawer")}}},[e("v-avatar",{staticClass:"elevation-0"},[e("v-icon",{attrs:{color:a.$primaria}},[a._v("menu")])],1)],1):a._e(),void 0!==this.icon?e("v-btn",{attrs:{icon:""},on:{click:function(t){return a.goBack()}}},[e("v-avatar",{staticClass:"elevation-0"},[e("v-icon",{attrs:{color:a.$primaria}},[a._v(" arrow_back ")])],1)],1):a._e(),e("h3",{class:a.$vuetify.breakpoint.smAndDown?"font-weight-bold":"",style:"color: "+a.$primaria},[a._v(a._s(a.title))]),e("v-spacer"),a._l(a.options,(function(t){return e("v-btn",{key:t.nome,staticClass:"hidden-sm-and-down animated flipInX delay-1s mr-1",attrs:{small:"",color:a.$primaria},on:{click:function(a){return t.action()}}},[e("v-icon",{staticClass:"mr-1",attrs:{color:"#fff"}},[a._v(" "+a._s(t.icon)+" ")]),e("span",{staticClass:"white--text text-capitalize"},[a._v(a._s(t.nome))])],1)})),e("v-menu",{staticClass:"hidden-lg-and-up",attrs:{left:"",bottom:""},scopedSlots:a._u([{key:"activator",fn:function(t){var s=t.on;return[e("v-btn",a._g({staticClass:"hidden-lg-and-up",attrs:{icon:""}},s),[e("v-icon",{attrs:{color:a.$vuetify.breakpoint.smAndDown?"grey darken-2":"#000"}},[a._v("more_vert")])],1)]}}])},[e("v-list",[a._l(a.menu,(function(t){return e("v-list-item",{key:t.nome,on:{click:function(){return t.action()}}},[e("v-list-item-title",[a._v(a._s(t.nome))])],1)})),a._l(a.options,(function(t){return e("v-list-item",{key:t.nome,on:{click:function(){return t.action()}}},[e("v-list-item-title",[a._v(a._s(t.nome))])],1)}))],2)],1)],2),e("v-divider"),e("div",{staticClass:"molde",class:a.$vuetify.breakpoint.smAndDown?"mt-12 pt-2":""},[e("v-flex",{attrs:{xs12:""}},[a._t("default")],2)],1)],1)],1)],1)},Xs=[],Zs={props:["title","menu","options","icon","action","origem"],data(){return{pesquisa:!1,fab:!0}},methods:{goBack(){void 0!==this.action?this.action():this.$router.go(-1)}},mounted(){console.log("menu",this.menu)}},Qs=Zs,Ks=(e("515f"),Object(r["a"])(Qs,Gs,Xs,!1,null,null,null)),Ws=Ks.exports;l()(Ks,{VAppBar:g["a"],VAvatar:x["a"],VBtn:C["a"],VCard:k["a"],VContainer:vt["a"],VDivider:N["a"],VFlex:w["a"],VIcon:y["a"],VLayout:ft["a"],VList:T["a"],VListItem:F["a"],VListItemTitle:P["c"],VMenu:Et["a"],VSpacer:Ra["a"]});var ao=function(){var a=this,t=a.$createElement;a._self._c;return a._m(0)},to=[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticStyle:{display:"flex",width:"100%",height:"50vh","justify-content":"center","align-items":"center"}},[e("h3",{staticClass:"grey--text text-center"},[a._v(" Nada por aqui ainda, pressione a tecla F5 para atualizar... ")])])}],eo={},so=Object(r["a"])(eo,ao,to,!1,null,null,null),oo=so.exports,io=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{width:"300",persistent:""},model:{value:a.snackbar_success.mostrar,callback:function(t){a.$set(a.snackbar_success,"mostrar",t)},expression:"snackbar_success.mostrar"}},[e("v-card",{staticClass:"pa-3",staticStyle:{overflow:"hidden","border-radius":"10px"},attrs:{light:"",width:"300"}},[e("div",{staticClass:"meio"},[e("v-flex",{attrs:{xs12:""}},[e("div",{staticStyle:{display:"flex","justify-content":"center",width:"100%"}},[e("v-avatar",{staticClass:"elevation-1 bounceInUp snack",attrs:{color:"green"}},[e("v-icon",{staticClass:"fadeIn",attrs:{size:"40",color:"white"}},[a._v("check")])],1)],1)]),e("v-flex",{staticClass:"mt-3 mb-3",attrs:{xs12:""}},[e("div",{staticClass:"linhaSemQuebra"},[e("v-spacer"),e("h3",{staticClass:"text-center"},[a._v(a._s(a.snackbar_success.mensagem))]),e("v-spacer")],1)]),e("v-flex",{attrs:{xs12:""}},[e("v-btn",{staticClass:"white--text",attrs:{color:"green",block:""},on:{click:a.fecha_snackbar}},[a._v("ok")])],1)],1)])],1)},ro=[],no={data(){return{}},computed:{snackbar_success(){return this.$store.getters.snackbar_success}},methods:{fecha_snackbar(){this.$store.dispatch("desativa_snackbar")}}},lo=no,co=Object(r["a"])(lo,io,ro,!1,null,null,null),uo=co.exports;l()(co,{VAvatar:x["a"],VBtn:C["a"],VCard:k["a"],VDialog:$["a"],VFlex:w["a"],VIcon:y["a"],VSpacer:Ra["a"]});var mo=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{width:"300",persistent:""},model:{value:a.snackbar_error.mostrar,callback:function(t){a.$set(a.snackbar_error,"mostrar",t)},expression:"snackbar_error.mostrar"}},[e("v-card",{staticClass:"pa-3",staticStyle:{overflow:"hidden","border-radius":"10px"},attrs:{light:"",width:"300"}},[e("div",{staticClass:"meio"},[e("v-flex",{attrs:{xs12:""}},[e("div",{staticStyle:{display:"flex","justify-content":"center",width:"100%"}},[e("v-avatar",{staticClass:"elevation-1 bounceInUp snack",staticStyle:{position:"relative"},attrs:{color:"red"}},[e("v-icon",{staticClass:" ",attrs:{size:"40",color:"white"}},[a._v("close")])],1)],1)]),e("v-flex",{staticClass:"mt-3 mb-3",attrs:{xs12:""}},[e("h3",{staticClass:"text-center"},[a._v(a._s(a.snackbar_error.mensagem))])]),e("v-flex",{attrs:{xs12:""}},[e("v-btn",{staticClass:"white--text",attrs:{color:"red",block:""},on:{click:a.fecha_snackbar}},[a._v("\n          ok\n        ")])],1)],1)])],1)},po=[],ho={data(){return{}},computed:{snackbar_error(){return this.$store.getters.snackbar_error}},methods:{fecha_snackbar(){this.$store.dispatch("desativa_snackbar")}}},vo=ho,fo=Object(r["a"])(vo,mo,po,!1,null,null,null),_o=fo.exports;l()(fo,{VAvatar:x["a"],VBtn:C["a"],VCard:k["a"],VDialog:$["a"],VFlex:w["a"],VIcon:y["a"]});var bo=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{width:"300",persistent:""},model:{value:a.snackbar_warning.mostrar,callback:function(t){a.$set(a.snackbar_warning,"mostrar",t)},expression:"snackbar_warning.mostrar"}},[e("v-card",{staticClass:"pa-3",staticStyle:{overflow:"hidden","border-radius":"10px"},attrs:{light:"",width:"300"}},[e("div",{staticStyle:{display:"flex","flex-direction":"column"}},[e("v-flex",{attrs:{xs12:""}},[e("div",{staticStyle:{display:"flex","justify-content":"center",width:"100%"}},[e("v-avatar",{staticClass:"elevation-1 bounceInUp snack",attrs:{color:"yellow darken-3"}},[e("v-icon",{staticClass:"fadeIn",attrs:{size:"30",color:"white"}},[a._v("warning")])],1)],1)]),e("v-flex",{staticClass:"mt-3 mb-3",attrs:{xs12:""}},[a.isarray?e("div",{staticStyle:{"flex-direction":"column",display:"flex","justify-content":"center",width:"100%"}},[e("span",{staticClass:"text-center"},[a._v(a._s(a.snackbar_warning.mensagem.length)+" pontos precisam de atenção:")]),e("v-divider"),a._l(a.snackbar_warning.mensagem,(function(t,s){return[e("div",{key:s,staticClass:"mt-2 mb-2 linhaSemQuebra"},[e("v-icon",{staticClass:"ma-2",attrs:{color:"green",size:"5"}},[a._v("lens")]),e("h4",{key:s,staticClass:"pt-1 pb-1 font-weight-light grey--text"},[a._v(a._s(t))])],1),e("v-divider",{key:s})]}))],2):e("div",{staticStyle:{display:"flex","justify-content":"center",width:"100%"}},[e("v-spacer"),e("h3",{staticClass:"text-center"},[a._v(a._s(a.snackbar_warning.mensagem))]),e("v-spacer")],1)]),e("v-flex",{attrs:{xs12:""}},[e("v-btn",{staticClass:"white--text",attrs:{color:"yellow darken-3",block:""},on:{click:a.fecha_snackbar}},[a._v("ok")])],1)],1)])],1)},go=[],xo={data(){return{isarray:!1}},computed:{snackbar_warning(){return Array.isArray(this.$store.getters.snackbar_warning.mensagem)?this.isarray=!0:this.isarray=!1,this.$store.getters.snackbar_warning}},methods:{fecha_snackbar(){this.$store.dispatch("desativa_snackbar")}}},Co=xo,ko=Object(r["a"])(Co,bo,go,!1,null,null,null),$o=ko.exports;l()(ko,{VAvatar:x["a"],VBtn:C["a"],VCard:k["a"],VDialog:$["a"],VDivider:N["a"],VFlex:w["a"],VIcon:y["a"],VSpacer:Ra["a"]});var wo=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{width:"300",persistent:""},model:{value:a.snackbar_info.mostrar,callback:function(t){a.$set(a.snackbar_info,"mostrar",t)},expression:"snackbar_info.mostrar"}},[e("v-card",{staticClass:"pa-3",staticStyle:{overflow:"hidden","border-radius":"10px"},attrs:{light:"",width:"300"}},[e("div",{staticClass:"meio"},[e("v-flex",{attrs:{xs12:""}},[e("div",{staticStyle:{display:"flex","justify-content":"center",width:"100%"}},[e("v-avatar",{staticClass:"elevation-1 bounceInUp snack",attrs:{color:"blue"}},[e("v-icon",{staticClass:"fadeIn",attrs:{size:"30",color:"white"}},[a._v("info")])],1)],1)]),e("v-flex",{staticClass:"mt-3 mb-3",attrs:{xs12:""}},[e("div",{staticClass:"linhaSemQuebra"},[e("v-spacer"),e("h3",{staticClass:"text-center"},[a._v(a._s(a.snackbar_info.mensagem))]),e("v-spacer")],1)]),e("v-flex",{attrs:{xs12:""}},[e("v-btn",{staticClass:"white--text",attrs:{color:"blue",block:""},on:{click:a.fecha_snackbar}},[a._v("ok")])],1)],1)])],1)},yo=[],So={data(){return{}},computed:{snackbar_info(){return this.$store.getters.snackbar_info}},methods:{fecha_snackbar(){this.$store.dispatch("desativa_snackbar")}}},Io=So,Vo=Object(r["a"])(Io,wo,yo,!1,null,null,null),qo=Vo.exports;l()(Vo,{VAvatar:x["a"],VBtn:C["a"],VCard:k["a"],VDialog:$["a"],VFlex:w["a"],VIcon:y["a"],VSpacer:Ra["a"]});var Ao=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-dialog",{staticStyle:{overflow:"hidden","z-index":"1000"},attrs:{width:"300",persistent:"",fullscreen:"",transition:"fade",elevation:"0"},model:{value:a.charging,callback:function(t){a.charging=t},expression:"charging"}},[e("v-card",{staticClass:"pa-3",staticStyle:{"background-color":"rgba( 0,0,0,0.3)",display:"flex",width:"100%",height:"100vh","justify-content":"center","align-items":"center",overflow:"hidden","border-radius":"0px"},attrs:{elevation:"0",light:"",width:"300"}},[e("div",{staticClass:"meio"},[e("v-flex",{attrs:{xs12:""}},[e("div",{staticStyle:{display:"flex","justify-content":"center",width:"100%"}},[e("v-avatar",{staticClass:"elevation-1 fade snack",attrs:{size:"54",color:"white"}},[e("v-progress-circular",{attrs:{size:"48",indeterminate:"",color:a.$primaria}})],1)],1)]),e("v-flex",{staticClass:"mt-3 mb-3",attrs:{xs12:""}},[e("h5",{staticClass:"text-center white--text"},[a._v(" Carregando dados, um momento... ")])])],1)])],1)},Oo=[],Do={computed:{charging(){return this.$store.getters.charging}}},Eo=Do,zo=e("490a"),jo=Object(r["a"])(Eo,Ao,Oo,!1,null,null,null),No=jo.exports;l()(jo,{VAvatar:x["a"],VCard:k["a"],VDialog:$["a"],VFlex:w["a"],VProgressCircular:zo["a"]});var To=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("canvas",{attrs:{id:this.id}})},Fo=[],Lo=e("30ef"),Po=e.n(Lo),Mo={props:["id","type","labels","dados"],watch:{dados(){this.montaChart()}},methods:{montaChart(){var a=document.getElementById(this.id).getContext("2d");Po.a.defaults.global.defaultFontColor="white";new Po.a(a,{type:"bar",options:{legend:{labels:{fontColor:"white"}}},data:{labels:this.labels,datasets:[{label:this.id,backgroundColor:"rgba(0, 0, 0, 0.5)",borderColor:"rgba(255, 255, 255, 0.3)",data:this.dados}]},options:{}})}},mounted(){this.montaChart()}},Ro=Mo,Bo=Object(r["a"])(Ro,To,Fo,!1,null,null,null),Uo=Bo.exports,Yo=(e("d48d"),e("d055")),Ho=e.n(Yo),Jo=e("0ff26");e("d2d4");class Go{filterSaldo(a){let t=0;return a.length>0&&a.map(a=>{if(a.valor>0)t=parseFloat(t)+parseFloat(a.valor);else if(a.valor<0){const e=a.valor.toString().split("");let s="";e.map((a,t)=>{0!==t&&(s+=a)}),t=""+(parseFloat(t)-parseFloat(s))}}),parseFloat(t).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}filterSaldoBruto(a){let t=0;return a.length>0&&a.map(a=>{if(a.valor>0)t=parseFloat(t)+parseFloat(a.valor);else if(a.valor<0){const e=a.valor.toString().split("");let s="";e.map((a,t)=>{0!==t&&(s+=a)}),t=""+(parseFloat(t)-parseFloat(s))}}),parseFloat(t)}filtroDePontos(a){let t=0;return a.map(a=>{t+=a.quantidade_de_pontos}),t}formataSaldo(a){const t=parseFloat(a);return t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}somaSaldos(a,t){const e=parseFloat(this.filterSaldoBruto(a)),s=parseFloat(this.filterSaldoBruto(t)),o=e+s;return parseFloat(o).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}proximoPagamento(){const a=ut()("21:00","HH:mm").locale("pt-br").fromNow(),t=ut()().locale("pt-br").format("dddd");return console.log("dia de hoje",t),"Sábado"===t?"Em 2 dias":"Domingo"===t?"Em 1 dia":a}porcentagemPagamento(){const a=ut()().locale("pt-br").format("DDMMYYYY"),t=ut()(a+"21:00","DDMMYYYYHH:mm").locale("pt-br").format("x"),e=864e3,s=864e5-(t-ut()().locale("pt-br").format("x")),o=s/e;return o}filtroTetoCashBack(a){let t=0;a.length>0&&a.map(a=>{"ativa"!==a.status&&"ativando"!==a.status||(t+=parseInt(a.quantidade))});const e=200*t;return parseFloat(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}relatorioTotalInvestido(a){let t=0;a.length>0&&a.map(a=>{void 0!==a.quantidade&&(t+=parseInt(a.quantidade))});const e=50*t;return parseFloat(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}relatorioTotalRendimento(a){let t=0;a.length>0&&a.map(a=>{void 0!==a.quantidade&&(t+=parseInt(a.quantidade))});const e=50*t/100,s=160*e;return parseFloat(s).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}relatorioTotalSacado(a){let t=0;return a.length>0&&a.map(a=>{t=parseFloat(t)+parseFloat(a.valor)}),parseFloat(t).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}relatorioTaxaSaque(a){let t=0;a.length>0&&a.map(a=>{t=parseFloat(t)+parseFloat(a.valor)});const e=t/100*5;return parseFloat(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}filtroTetoCashBackRestante(a,t){let e=0;a.length>0&&a.map(a=>{a.valor>0&&(e=parseFloat(e)+parseFloat(a.valor))});let s=0;t.length>0&&t.map(a=>{"ativa"!==a.status&&"ativando"!==a.status||(s+=parseInt(a.quantidade))});const o=200*s;let i=0;const r=parseFloat(o)-parseFloat(e);return i=r<=0?0:r,i}calculaTetoUsado(a,t){let e=0;a.length>0&&a.map(a=>{a.valor>0&&(e=parseFloat(e)+parseFloat(a.valor))});let s=0;t.length>0&&t.map(a=>{"ativa"!==a.status&&"ativando"!==a.status||(s+=parseInt(a.quantidade))});const o=200*s,i=()=>e>o?o:e;return i()}}var Xo=Go,Zo=e("3f3d"),Qo=e("e192"),Ko=e.n(Qo),Wo=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{width:"300",persistent:""},model:{value:a.open,callback:function(t){a.open=t},expression:"open"}},[e("v-card",{staticClass:"pa-3",staticStyle:{overflow:"hidden","border-radius":"10px"},attrs:{light:"",width:"300"}},[e("div",{staticClass:"meio"},[e("v-flex",{attrs:{xs12:""}},[e("div",{staticStyle:{display:"flex","justify-content":"center",width:"100%"}},[e("v-avatar",{staticClass:"elevation-1 bounceInUp snack",attrs:{color:"green lighten-1"}},[e("v-icon",{staticClass:"fadeIn",attrs:{color:"white"}},[a._v(" delete ")])],1)],1)]),e("v-flex",{staticClass:"mt-3 mb-3",attrs:{xs12:""}},[e("div",{staticClass:"linhaSemQuebra"},[e("v-spacer"),e("h3",{staticClass:"text-center fonteCorpo grey--text"},[a._v(" Deseja Realmente Excluir? ")]),e("v-spacer")],1)]),e("v-flex",{attrs:{xs12:""}},[e("div",{staticClass:"expande-horizontal semquebra"},[e("v-flex",{staticClass:"pa-2",attrs:{xs6:""}},[e("v-btn",{staticClass:"white--text",attrs:{text:"",color:"red",block:""},on:{click:function(t){return t.preventDefault(),a.close()}}},[a._v("\n              Não\n            ")])],1),e("v-flex",{staticClass:"pa-2",attrs:{xs6:""}},[e("v-btn",{staticClass:"white--text",attrs:{text:"",color:"green",block:""},on:{click:function(t){return t.preventDefault(),a.remove()}}},[a._v("\n              Sim\n            ")])],1)],1)])],1)])],1)},ai=[],ti={props:["open","action","close"],methods:{remove(){this.action(),this.close()}}},ei=ti,si=Object(r["a"])(ei,Wo,ai,!1,null,null,null),oi=si.exports;l()(si,{VAvatar:x["a"],VBtn:C["a"],VCard:k["a"],VDialog:$["a"],VFlex:w["a"],VIcon:y["a"],VSpacer:Ra["a"]});var ii=e("99d1");s["a"].use(ii["a"]),s["a"].use(ii["a"],{prefix:"app_",driver:"memory",ttl:864e5}),s["a"].use(Zo["a"],{mapboxgl:Ko.a}),s["a"].use(Jo["a"]),s["a"].config.productionTip=!1;const ri=Ms.a.create({baseURL:"https://s3ms4-c0r0n4.herokuapp.com/",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Us.getters.token}});s["a"].prototype.$axios=ri;const ni=async(a,t,e,s)=>{try{Us.dispatch("up_charging");const o=await ri[""+a](t,s);return e&&Us.dispatch("snackbar_success",e),Us.dispatch("down_charging"),o.data}catch(o){Us.dispatch("snackbar_info",o.message),Us.dispatch("down_charging")}};s["a"].prototype.$list=(a,t)=>ni("get",a,!1,t),s["a"].prototype.$show=a=>ni("get",a),s["a"].prototype.$create=(a,t)=>ni("post",a,"Cadastrado",t),s["a"].prototype.$update=(a,t)=>ni("put",a,"Atualizado",t),s["a"].prototype.$del=a=>ni("delete",a,"Exclusão concluída!"),s["a"].component("Molde",Ws),s["a"].component("Empty",oo),s["a"].component("Chart",Uo),s["a"].component("Confirm",oi),s["a"].component("SnackbarSuccess",uo),s["a"].component("SnackbarError",_o),s["a"].component("SnackbarWarning",$o),s["a"].component("SnackbarInfo",qo),s["a"].component("SnackbarCharging",No),s["a"].prototype.$qrcode=Ho.a,s["a"].prototype.$moment=ut.a,s["a"].prototype.$helper=new Xo,s["a"].prototype.$primaria="#F9A825",s["a"].prototype.$secundaria="green lighten-2",s["a"].prototype.$terciaria="#F9A825",s["a"].prototype.$danger="#C62828",s["a"].prototype.$warning="#F9A825",s["a"].prototype.$info="#C62828",s["a"].prototype.$success="green",s["a"].prototype.$db=Be,s["a"].prototype.$time=Me,new s["a"]({router:Ss,store:Us,vuetify:Js,render:a=>a(m)}).$mount("#app")},6416:function(a,t,e){},"64a9":function(a,t,e){},"656e":function(a,t,e){"use strict";var s=e("6416"),o=e.n(s);o.a},a9e7:function(a,t,e){},b6c0:function(a,t,e){},bf74:function(a,t,e){"use strict";var s=e("b6c0"),o=e.n(s);o.a},cccb:function(a,t,e){"use strict";var s=e("d563"),o=e.n(s);o.a},d563:function(a,t,e){},d6db:function(a,t,e){"use strict";var s=e("a9e7"),o=e.n(s);o.a},e6db:function(a,t,e){}});
//# sourceMappingURL=app.541515d7.js.map